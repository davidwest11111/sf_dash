{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./js/app/components/main_nav/index.jsx","webpack:///./js/app/utils/local_storage/index.js","webpack:///./js/app/integrations/nextbus/index.js","webpack:///./js/app/components/loader/index.jsx","webpack:///./js/app/components/time_since_last_updated/index.jsx","webpack:///./js/app/components/bus/stop_info/index.jsx","webpack:///./js/app/components/bus/predictions/times/index.jsx","webpack:///./js/app/components/bus/predictions/index.jsx","webpack:///./js/app/components/bus/add_stop_form/manual_add/index.jsx","webpack:///./js/app/components/bus/add_stop_form/geolocate_add/index.jsx","webpack:///./js/app/components/bus/add_stop_form/index.jsx","webpack:///./js/app/components/bus/edit_togglers/index.jsx","webpack:///./js/app/components/bus/index.jsx","webpack:///./js/app/integrations/darksky/index.js","webpack:///./js/app/components/weather/side_panel/todays_rain_forecast/index.jsx","webpack:///./js/app/constants/index.js","webpack:///./js/app/components/weather/icon/index.jsx","webpack:///./js/app/components/weather/side_panel/todays_forecast_overview/index.jsx","webpack:///./js/app/components/weather/side_panel/alerts/index.jsx","webpack:///./js/app/components/weather/side_panel/index.jsx","webpack:///./js/app/components/weather/hourly_forecast/index.jsx","webpack:///./js/app/components/weather/three_day_forecast/index.jsx","webpack:///./js/app/components/weather/index.jsx","webpack:///./js/app/components/main_page/current_datetime_header/index.jsx","webpack:///./js/app/components/main_page/index.jsx","webpack:///./js/app/components/settings_page/dark_light_mode_selector/index.jsx","webpack:///./js/app/components/settings_page/display_local_storage_data/index.jsx","webpack:///./js/app/components/settings_page/set_sample_local_storage_data/index.jsx","webpack:///./js/app/components/settings_page/index.jsx","webpack:///./js/app/index.jsx","webpack:///./index.jsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","MainNav","className","this","props","classNames","to","PureComponent","T","string","WEATHER_KEY_KEY","WEATHER_UNITS_KEY","BUS_STOP_ROUTE_TAGS_KEY","HTML_CLASS_KEY","ALL_SETTINGS_KEYS","reduce","fullArray","SAMPLE_DATA","LocalStorage","JSON","parse","localStorage","getItem","val","setItem","stringify","dispatchEvent","Event","set","forEach","removeItem","routeStopTag","stopRouteTags","Set","filter","tag","URL","getUserPosition","options","Promise","reject","navigator","geolocation","getCurrentPosition","NextBus","routeStopTags","axios","params","command","a","stops","useShortTitles","paramsSerializer","qs","arrayFormat","response","parsePredictionsXMLResponse","errorText","body","__text","parseRouteConfigXMLResponse","mergeRouteData","route","meters","all","getRouteConfig","responses","geoLocation","routeConfig","currPosition","google","maps","LatLng","coords","latitude","longitude","stopResults","direction","stop","stopLatLng","_lat","_lon","geometry","spherical","computeDistanceBetween","_tag","title","_title","directionName","_name","directionTitle","latLng","stopId","_stopId","stopTag","stopTitle","getPredictions","predictions","xmlString","X2JS","arrayAccessFormPaths","xml2js","routeTag","routeData","stopTags","idx","Loader","loading","small","bool","TimeSinceLastUpdated","timeAgo","lastUpdated","preciseDiff","moment","msUntilWarning","diff","interval","setInterval","forceUpdate","clearInterval","overdue","isOverdue","getReadableTime","number","StopInfo","prediction","_dirTitleBecauseNoPredictions","_stopTitle","shape","Times","predictionTimes","time","_tripTag","_affectedByLayover","_minutes","arrayOf","Predictions","getRouteStopTag","onAddOrRemoveStop","removeBusStopFromLocalStorage","showBusRemove","_routeTag","_stopTag","Card","CardBody","Button","color","onClick","removeStop","isRequired","func","ManualAdd","event","field","setState","target","preventDefault","state","stopIsValid","undefined","isValidStop","addBusStopToLocalStorage","Form","onSubmit","validateAndAddStop","Row","Col","xs","FormGroup","Label","for","Input","type","onChange","placeholder","GeolocateAdd","getStopsNearMe","nearbyStops","console","error","message","errMsg","Alert","fade","href","rel","inline","getNearbyStops","Table","striped","hover","nearbyStop","addStop","AddStopForm","tab","activeTab","toggleAddStopForm","Nav","tabs","NavItem","NavLink","active","toggle","TabContent","TabPane","tabId","buttonProps","size","outline","EditTogglers","toggleShowBusRemove","array","sortPredictions","sortedList","stopRouteTag","indexOf","Bus","showAddStopForm","updateBusPredictions","predictionResponse","CALL_INTERVAL","DarkSky","lat","long","units","getUrl","adapter","jsonpAdapter","locations","darkSkyUnits","convertUnitsForDarkSky","fetchWeatherData","base","exclude","lang","TodaysRainForecast","hourlyForecasts","find","hourlyForecast","precipProbability","firstRainForecast","getFirstRainForecast","toFixed","format","DARK_SKY_ICON_MAP","cloudy","fog","rain","sleet","snow","wind","WeatherIcon","iconName","icon","src","alt","cToF","celsius","fToC","fahrenheit","TodaysForecastOverview","weatherUnits","todaysForecast","temperatureMin","temperatureMax","fn","summary","getAltHighLow","Alerts","alerts","alert","SidePanel","dailyForecasts","HourlyForecast","data-toggle","temperature","uvIndex","humidity","apparentTemperature","ThreeDayForecast","dailyForecast","sm","LOCATIONS","readable","Weather","fetchAllLocationsWeatherData","locationsResponses","locationResponse","hourly","daily","fetchError","updateWeatherLocations","location","CardFooter","CurrentDateTimeHeader","now","date","MainPage","MODES","DarkLightModeSelector","document","documentElement","setMode","isDarkModeSelected","ButtonGroup","DisplayLocalStorageData","show","addEventListener","rerender","removeEventListener","localStorageKey","codeString","getLocalStorageData","toggleShow","language","style","monokai","oneOf","SetSampleLocalStorageData","setSampleData","Settings","weatherKeyIsValid","weatherKeyValue","isValidKey","getInitialState","dump","CardHeader","dumpLocalStorageAndResetState","validateAndSetKey","onWeatherKeyChange","setWeatherUnits","App","Container","path","ReactDOM","render","getElementById"],"mappings":"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","file":"js/app.6a2c31ba.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([515,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": 39,\n\t\"./af.js\": 39,\n\t\"./ar\": 40,\n\t\"./ar-dz\": 41,\n\t\"./ar-dz.js\": 41,\n\t\"./ar-kw\": 42,\n\t\"./ar-kw.js\": 42,\n\t\"./ar-ly\": 43,\n\t\"./ar-ly.js\": 43,\n\t\"./ar-ma\": 44,\n\t\"./ar-ma.js\": 44,\n\t\"./ar-sa\": 45,\n\t\"./ar-sa.js\": 45,\n\t\"./ar-tn\": 46,\n\t\"./ar-tn.js\": 46,\n\t\"./ar.js\": 40,\n\t\"./az\": 47,\n\t\"./az.js\": 47,\n\t\"./be\": 48,\n\t\"./be.js\": 48,\n\t\"./bg\": 49,\n\t\"./bg.js\": 49,\n\t\"./bm\": 50,\n\t\"./bm.js\": 50,\n\t\"./bn\": 51,\n\t\"./bn.js\": 51,\n\t\"./bo\": 52,\n\t\"./bo.js\": 52,\n\t\"./br\": 53,\n\t\"./br.js\": 53,\n\t\"./bs\": 54,\n\t\"./bs.js\": 54,\n\t\"./ca\": 55,\n\t\"./ca.js\": 55,\n\t\"./cs\": 56,\n\t\"./cs.js\": 56,\n\t\"./cv\": 57,\n\t\"./cv.js\": 57,\n\t\"./cy\": 58,\n\t\"./cy.js\": 58,\n\t\"./da\": 59,\n\t\"./da.js\": 59,\n\t\"./de\": 60,\n\t\"./de-at\": 61,\n\t\"./de-at.js\": 61,\n\t\"./de-ch\": 62,\n\t\"./de-ch.js\": 62,\n\t\"./de.js\": 60,\n\t\"./dv\": 63,\n\t\"./dv.js\": 63,\n\t\"./el\": 64,\n\t\"./el.js\": 64,\n\t\"./en-SG\": 65,\n\t\"./en-SG.js\": 65,\n\t\"./en-au\": 66,\n\t\"./en-au.js\": 66,\n\t\"./en-ca\": 67,\n\t\"./en-ca.js\": 67,\n\t\"./en-gb\": 68,\n\t\"./en-gb.js\": 68,\n\t\"./en-ie\": 69,\n\t\"./en-ie.js\": 69,\n\t\"./en-il\": 70,\n\t\"./en-il.js\": 70,\n\t\"./en-nz\": 71,\n\t\"./en-nz.js\": 71,\n\t\"./eo\": 72,\n\t\"./eo.js\": 72,\n\t\"./es\": 73,\n\t\"./es-do\": 74,\n\t\"./es-do.js\": 74,\n\t\"./es-us\": 75,\n\t\"./es-us.js\": 75,\n\t\"./es.js\": 73,\n\t\"./et\": 76,\n\t\"./et.js\": 76,\n\t\"./eu\": 77,\n\t\"./eu.js\": 77,\n\t\"./fa\": 78,\n\t\"./fa.js\": 78,\n\t\"./fi\": 79,\n\t\"./fi.js\": 79,\n\t\"./fo\": 80,\n\t\"./fo.js\": 80,\n\t\"./fr\": 81,\n\t\"./fr-ca\": 82,\n\t\"./fr-ca.js\": 82,\n\t\"./fr-ch\": 83,\n\t\"./fr-ch.js\": 83,\n\t\"./fr.js\": 81,\n\t\"./fy\": 84,\n\t\"./fy.js\": 84,\n\t\"./ga\": 85,\n\t\"./ga.js\": 85,\n\t\"./gd\": 86,\n\t\"./gd.js\": 86,\n\t\"./gl\": 87,\n\t\"./gl.js\": 87,\n\t\"./gom-latn\": 88,\n\t\"./gom-latn.js\": 88,\n\t\"./gu\": 89,\n\t\"./gu.js\": 89,\n\t\"./he\": 90,\n\t\"./he.js\": 90,\n\t\"./hi\": 91,\n\t\"./hi.js\": 91,\n\t\"./hr\": 92,\n\t\"./hr.js\": 92,\n\t\"./hu\": 93,\n\t\"./hu.js\": 93,\n\t\"./hy-am\": 94,\n\t\"./hy-am.js\": 94,\n\t\"./id\": 95,\n\t\"./id.js\": 95,\n\t\"./is\": 96,\n\t\"./is.js\": 96,\n\t\"./it\": 97,\n\t\"./it-ch\": 98,\n\t\"./it-ch.js\": 98,\n\t\"./it.js\": 97,\n\t\"./ja\": 99,\n\t\"./ja.js\": 99,\n\t\"./jv\": 100,\n\t\"./jv.js\": 100,\n\t\"./ka\": 101,\n\t\"./ka.js\": 101,\n\t\"./kk\": 102,\n\t\"./kk.js\": 102,\n\t\"./km\": 103,\n\t\"./km.js\": 103,\n\t\"./kn\": 104,\n\t\"./kn.js\": 104,\n\t\"./ko\": 105,\n\t\"./ko.js\": 105,\n\t\"./ku\": 106,\n\t\"./ku.js\": 106,\n\t\"./ky\": 107,\n\t\"./ky.js\": 107,\n\t\"./lb\": 108,\n\t\"./lb.js\": 108,\n\t\"./lo\": 109,\n\t\"./lo.js\": 109,\n\t\"./lt\": 110,\n\t\"./lt.js\": 110,\n\t\"./lv\": 111,\n\t\"./lv.js\": 111,\n\t\"./me\": 112,\n\t\"./me.js\": 112,\n\t\"./mi\": 113,\n\t\"./mi.js\": 113,\n\t\"./mk\": 114,\n\t\"./mk.js\": 114,\n\t\"./ml\": 115,\n\t\"./ml.js\": 115,\n\t\"./mn\": 116,\n\t\"./mn.js\": 116,\n\t\"./mr\": 117,\n\t\"./mr.js\": 117,\n\t\"./ms\": 118,\n\t\"./ms-my\": 119,\n\t\"./ms-my.js\": 119,\n\t\"./ms.js\": 118,\n\t\"./mt\": 120,\n\t\"./mt.js\": 120,\n\t\"./my\": 121,\n\t\"./my.js\": 121,\n\t\"./nb\": 122,\n\t\"./nb.js\": 122,\n\t\"./ne\": 123,\n\t\"./ne.js\": 123,\n\t\"./nl\": 124,\n\t\"./nl-be\": 125,\n\t\"./nl-be.js\": 125,\n\t\"./nl.js\": 124,\n\t\"./nn\": 126,\n\t\"./nn.js\": 126,\n\t\"./pa-in\": 127,\n\t\"./pa-in.js\": 127,\n\t\"./pl\": 128,\n\t\"./pl.js\": 128,\n\t\"./pt\": 129,\n\t\"./pt-br\": 130,\n\t\"./pt-br.js\": 130,\n\t\"./pt.js\": 129,\n\t\"./ro\": 131,\n\t\"./ro.js\": 131,\n\t\"./ru\": 132,\n\t\"./ru.js\": 132,\n\t\"./sd\": 133,\n\t\"./sd.js\": 133,\n\t\"./se\": 134,\n\t\"./se.js\": 134,\n\t\"./si\": 135,\n\t\"./si.js\": 135,\n\t\"./sk\": 136,\n\t\"./sk.js\": 136,\n\t\"./sl\": 137,\n\t\"./sl.js\": 137,\n\t\"./sq\": 138,\n\t\"./sq.js\": 138,\n\t\"./sr\": 139,\n\t\"./sr-cyrl\": 140,\n\t\"./sr-cyrl.js\": 140,\n\t\"./sr.js\": 139,\n\t\"./ss\": 141,\n\t\"./ss.js\": 141,\n\t\"./sv\": 142,\n\t\"./sv.js\": 142,\n\t\"./sw\": 143,\n\t\"./sw.js\": 143,\n\t\"./ta\": 144,\n\t\"./ta.js\": 144,\n\t\"./te\": 145,\n\t\"./te.js\": 145,\n\t\"./tet\": 146,\n\t\"./tet.js\": 146,\n\t\"./tg\": 147,\n\t\"./tg.js\": 147,\n\t\"./th\": 148,\n\t\"./th.js\": 148,\n\t\"./tl-ph\": 149,\n\t\"./tl-ph.js\": 149,\n\t\"./tlh\": 150,\n\t\"./tlh.js\": 150,\n\t\"./tr\": 151,\n\t\"./tr.js\": 151,\n\t\"./tzl\": 152,\n\t\"./tzl.js\": 152,\n\t\"./tzm\": 153,\n\t\"./tzm-latn\": 154,\n\t\"./tzm-latn.js\": 154,\n\t\"./tzm.js\": 153,\n\t\"./ug-cn\": 155,\n\t\"./ug-cn.js\": 155,\n\t\"./uk\": 156,\n\t\"./uk.js\": 156,\n\t\"./ur\": 157,\n\t\"./ur.js\": 157,\n\t\"./uz\": 158,\n\t\"./uz-latn\": 159,\n\t\"./uz-latn.js\": 159,\n\t\"./uz.js\": 158,\n\t\"./vi\": 160,\n\t\"./vi.js\": 160,\n\t\"./x-pseudo\": 161,\n\t\"./x-pseudo.js\": 161,\n\t\"./yo\": 162,\n\t\"./yo.js\": 162,\n\t\"./zh-cn\": 163,\n\t\"./zh-cn.js\": 163,\n\t\"./zh-hk\": 164,\n\t\"./zh-hk.js\": 164,\n\t\"./zh-tw\": 165,\n\t\"./zh-tw.js\": 165\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 204;","import React, { PureComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\nexport default class MainNav extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  render() {\n    const { className } = this.props;\n    return (\n      <div className={classNames(className, 'header')}>\n        <Link to=\"/\"><span className=\"fas fa-home\" /></Link>\n        <Link to=\"/settings\"><span className=\"fas fa-cog\" /></Link>\n      </div>\n\n    );\n  }\n}\n","export const ANGULAR_LOCAL_STORAGE_PREFIX = 'ngStorage-';\nexport const WEATHER_KEY_KEY = 'weatherKey';\nexport const WEATHER_UNITS_KEY = 'weatherUnits';\nexport const BUS_STOP_ROUTE_TAGS_KEY = 'stopRouteTags';\nexport const HTML_CLASS_KEY = 'htmlClass';\nexport const ALL_SETTINGS_KEYS = [\n  WEATHER_KEY_KEY,\n  WEATHER_UNITS_KEY,\n  BUS_STOP_ROUTE_TAGS_KEY,\n  HTML_CLASS_KEY,\n].reduce(\n  // include legacy keys\n  (fullArray, key) => ([...fullArray, key, `${ANGULAR_LOCAL_STORAGE_PREFIX}${key}`]),\n  [],\n);\n\nexport const SAMPLE_DATA = {\n  [BUS_STOP_ROUTE_TAGS_KEY]: ['14|5565', '67|6208', '27|3930', '12|7552'],\n};\n\nexport default class LocalStorage {\n  static get(key) {\n    return JSON.parse((\n      window.localStorage.getItem(key) ||\n      // legacy support\n      window.localStorage.getItem(`${ANGULAR_LOCAL_STORAGE_PREFIX}${key}`)\n    )) || '';\n  }\n\n  static set(key, val) {\n    window.localStorage.setItem(key, JSON.stringify(val));\n\n    // window.addEventListener('storage') doesn't fire on the current tab by default. make it.\n    // https://gist.github.com/TakashiSasaki/4282903\n    window.dispatchEvent(new Event('storage'));\n  }\n\n  static setSampleData(key) {\n    this.set(key, SAMPLE_DATA[key]);\n  }\n\n  static dump() {\n    ALL_SETTINGS_KEYS.forEach(key => window.localStorage.removeItem(key));\n  }\n\n  static addBusStopToLocalStorage(routeStopTag) {\n    const stopRouteTags = this.get(BUS_STOP_ROUTE_TAGS_KEY) || [];\n    this.set(\n      BUS_STOP_ROUTE_TAGS_KEY,\n      [...new Set([...stopRouteTags, routeStopTag])], // no duplicates\n    );\n  }\n\n  static removeBusStopFromLocalStorage(routeStopTag) {\n    const stopRouteTags = this.get(BUS_STOP_ROUTE_TAGS_KEY) || [];\n    this.set(\n      BUS_STOP_ROUTE_TAGS_KEY,\n      stopRouteTags.filter(tag => tag !== routeStopTag),\n    );\n  }\n}\n","import axios from 'axios';\nimport X2JS from 'x2js';\nimport qs from 'qs';\n\n\nexport const URL = 'http://webservices.nextbus.com/service/publicXMLFeed';\n\nexport const getUserPosition = options => (\n  new Promise((resolve, reject) => {\n    navigator.geolocation.getCurrentPosition(resolve, reject, options);\n  })\n);\n\nexport default class NextBus {\n  static async getPredictions(routeStopTags) {\n    const response = await axios.get(URL, {\n      params: {\n        command: 'predictionsForMultiStops',\n        a: 'sf-muni',\n        stops: routeStopTags,\n        useShortTitles: true,\n      },\n      paramsSerializer: params => qs.stringify(params, { arrayFormat: 'repeat' }),\n    });\n\n    const data = this.parsePredictionsXMLResponse(response.data);\n\n    return new Promise((resolve, reject) => {\n      const errorText = data?.body?.Error?.__text;\n      if (errorText) { reject(new Error(errorText)); }\n\n      resolve(data);\n    });\n  }\n\n  static async getRouteConfig() {\n    const response = await axios.get(URL, {\n      params: {\n        command: 'routeConfig',\n        a: 'sf-muni',\n        useShortTitles: true,\n      },\n    });\n\n    const data = this.parseRouteConfigXMLResponse(response.data);\n\n    return new Promise((resolve, reject) => {\n      const errorText = data?.body?.Error?.__text;\n      if (errorText) { reject(new Error(errorText)); }\n\n      resolve(this.mergeRouteData(data.body.route));\n    });\n  }\n\n  static async getStopsNearMe(meters) {\n    const responses = await axios.all([\n      getUserPosition(),\n      this.getRouteConfig(),\n    ]);\n\n    const [geoLocation, routeConfig] = responses;\n\n    const currPosition = new google.maps.LatLng(\n      geoLocation.coords.latitude,\n      geoLocation.coords.longitude,\n    );\n\n    const stopResults = [];\n    routeConfig.forEach(route => {\n      route.direction.forEach(direction => {\n        direction.stop.forEach(stop => {\n          // Find stops that are within [meters] of the users position\n          const stopLatLng = new google.maps.LatLng(stop._lat, stop._lon);\n          const distance = google.maps.geometry.spherical\n            .computeDistanceBetween(currPosition, stopLatLng);\n\n          if (distance <= meters) {\n            stopResults.push({\n              tag: route._tag,\n              title: route._title,\n\n              directionName: direction._name,\n              directionTitle: direction._title,\n\n              latLng: stopLatLng,\n\n              stopId: stop._stopId,\n              stopTag: stop._tag,\n              stopTitle: stop._title,\n            });\n          }\n        });\n      });\n    });\n\n    return stopResults;\n  }\n\n  static mergeRouteData = routeData => {\n    // The purpose of this fn is to merge stop data into direction data. this is necessary because\n    // the stops are direction unaware (inbound/outbound):\n    //\n    // routeData[0].direction[0].stop[0] = {\n    //   _tag: \"6932\"\n    // }\n    //\n    // becomes\n    //\n    // routeData[0].direction[0].stop[0] = {\n    //   _tag: \"6932\", _lat: \"37.123\", _stopId: \"12789\", _title: \"Mission\"\n    // }\n\n    routeData.forEach(route => {\n      // map the stop tags\n      const stopTags = {};\n      route.stop.forEach(stop => {\n        stopTags[stop._tag] = stop;\n      });\n\n      // there should be only 2 directions. inbound/outbound\n      route.direction.forEach(direction => {\n        direction.stop.forEach((stop, idx) => {\n          // replace the object with the one that has the full data\n          direction.stop[idx] = stopTags[stop._tag];\n        });\n      });\n    });\n    return routeData;\n  }\n\n  static async isValidStop(routeStopTag) {\n    try {\n      const response = await this.getPredictions([routeStopTag]);\n      return !!response?.body?.predictions;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  static parsePredictionsXMLResponse(xmlString) {\n    return new X2JS({\n      arrayAccessFormPaths: [\n        'body.predictions',\n        'body.predictions.direction.prediction',\n      ],\n    }).xml2js(xmlString);\n  }\n\n  static parseRouteConfigXMLResponse(xmlString) {\n    return new X2JS({\n      arrayAccessFormPaths: [\n        'body.route',\n      ],\n    }).xml2js(xmlString);\n  }\n\n  static getRouteStopTag(routeTag, stopTag) {\n    return `${routeTag}|${stopTag}`;\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\nexport default class Loader extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    loading: T.bool,\n    small: T.bool,\n  };\n\n  static defaultProps = {\n    className: '',\n    loading: false,\n    small: false,\n  }\n\n  render() {\n    const { className, loading, small } = this.props;\n\n    if (!loading) { return null; }\n\n    return (\n      <div className={classNames(className, 'spinner', { 'spinner-small': small })}>\n        <div className=\"bounce1\" />\n        <div className=\"bounce2\" />\n        <div className=\"bounce3\" />\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport moment from 'moment';\nimport 'moment-precise-range-plugin';\nimport classNames from 'classnames';\n\nimport Loader from '../loader';\n\n\nexport const INTERVAL_MS = 1000;\n\nexport default class TimeSinceLastUpdated extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    lastUpdated: T.object, // a moment object\n    msUntilWarning: T.number,\n    loading: T.bool,\n  };\n\n  static defaultProps = {\n    className: '',\n    lastUpdated: null,\n    msUntilWarning: 60000, // 1min\n    loading: false,\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.forceUpdate(), INTERVAL_MS);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  getReadableTime = () => {\n    const { lastUpdated } = this.props;\n\n    const timeAgo = lastUpdated.preciseDiff(moment());\n\n    if (!timeAgo) { // timeText is empty if diff is 0\n      return 'Just now.';\n    }\n    return `${timeAgo} ago.`;\n  }\n\n  isOverdue = () => {\n    const { lastUpdated, msUntilWarning } = this.props;\n    return moment().diff(lastUpdated) >= msUntilWarning;\n  }\n\n  render() {\n    const { className, lastUpdated, loading } = this.props;\n\n    const overdue = this.isOverdue();\n\n    return (\n      <div className={classNames(className, 'time-since-last-updated')}>\n        <span className={classNames({ overdue })}>\n          {lastUpdated && this.getReadableTime()}\n        </span>\n        <Loader className=\"my-1 ml-auto\" loading={loading} small />\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\nexport default class StopInfo extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    prediction: T.shape({\n      direction: T.shape({\n        _title: T.string,\n      }),\n      _stopTitle: T.string,\n      _dirTitleBecauseNoPredictions: T.string,\n    }),\n  };\n\n  static defaultProps = {\n    className: '',\n    prediction: {},\n  }\n\n  render() {\n    const { className, prediction } = this.props;\n    const { direction, _dirTitleBecauseNoPredictions, _stopTitle } = prediction;\n\n    return (\n      <div className={classNames(className)}>\n        <div className=\"route-title\">\n          {direction?._title || _dirTitleBecauseNoPredictions}\n        </div>\n        <div className=\"stop-title\">\n          @{_stopTitle}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\nexport default class Times extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    predictionTimes: T.arrayOf(\n      T.shape({\n        _tripTag: T.string, // used to generate react `key`s\n        _affectedByLayover: T.string,\n        _minutes: T.string,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    predictionTimes: [],\n  }\n\n  render() {\n    const { className, predictionTimes } = this.props;\n\n    return (\n      <div className={classNames(className, 'prediction-times')}>\n        {predictionTimes.length ? (\n          <>\n            {predictionTimes.slice(0, 4).map((time, idx) => (\n              <span key={`${time._tripTag}`}>\n                <span\n                  className={classNames(\n                    'prediction-time',\n                    {\n                      'not-affected-by-layover': !time._affectedByLayover,\n                      'next-time': idx === 0,\n                      'other-time': idx !== 0,\n                    },\n                  )}\n                >\n                  {time._minutes === '0' ? 'Now' : time._minutes}\n                </span>\n                {idx !== (predictionTimes.length - 1) && ', '}\n              </span>\n            ))}\n          </>\n        ) : (\n          <span className=\"no-prediction-time\">None</span>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Button, Card, CardBody } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport NextBus from 'app/integrations/nextbus';\nimport LocalStorage from 'app/utils/local_storage';\n\nimport StopInfo from '../stop_info';\nimport Times from './times';\n\n\nexport default class Predictions extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    predictions: T.arrayOf(\n      T.shape({\n        _routeTag: T.string,\n        _stopTag: T.string, // used to generate react `key`s\n        direction: T.shape({\n          prediction: T.arrayOf(\n            T.shape({\n              _tripTag: T.string, // used to generate react `key`s\n              _affectedByLayover: T.string,\n              _minutes: T.string,\n            }),\n          ),\n        }),\n      }),\n    ),\n    showBusRemove: T.bool.isRequired,\n    onAddOrRemoveStop: T.func.isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n    predictions: [],\n  }\n\n  removeStop = (routeTag, stopTag) => {\n    const routeStopTag = NextBus.getRouteStopTag(routeTag, stopTag);\n    const { onAddOrRemoveStop } = this.props;\n\n    LocalStorage.removeBusStopFromLocalStorage(routeStopTag);\n    onAddOrRemoveStop();\n  }\n\n\n  render() {\n    const { className, predictions, showBusRemove } = this.props;\n\n    return (\n      <div className={classNames(className, 'predictions')}>\n        {predictions.map(prediction => {\n          const { _routeTag, _stopTag, direction } = prediction;\n          return (\n            <Card className=\"mb-2\" key={`${_routeTag}-${_stopTag}`}>\n              <CardBody className=\"d-flex align-items-center justify-content-between\">\n\n                <div className=\"route-tag\">\n                  {_routeTag}\n                </div>\n\n                <div className=\"right-container\">\n\n                  {showBusRemove ? (\n                    <Button\n                      color=\"danger\"\n                      className=\"remove-stop\"\n                      onClick={() => this.removeStop(_routeTag, _stopTag)}\n                    >\n                      Remove Stop\n                    </Button>\n                  ) : (\n                    <Times predictionTimes={direction?.prediction} />\n                  )}\n\n                  <StopInfo prediction={prediction} />\n                </div>\n              </CardBody>\n            </Card>\n          );\n        })}\n      </div>\n\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Form, FormGroup, Row, Col, Button, Input, Label } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport NextBus from 'app/integrations/nextbus';\nimport LocalStorage from 'app/utils/local_storage';\n\n\nexport default class ManualAdd extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    onAddOrRemoveStop: T.func.isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      routeTag: '',\n      stopTag: '',\n      stopIsValid: undefined,\n    };\n  }\n\n  onChange = (event, field) => {\n    this.setState({ [field]: event.target.value });\n  }\n\n  validateAndAddStop = async event => {\n    event.preventDefault();\n    const { onAddOrRemoveStop } = this.props;\n    const { routeTag, stopTag } = this.state;\n    const routeStopTag = NextBus.getRouteStopTag(routeTag, stopTag);\n    this.setState({ stopIsValid: undefined });\n\n    if (await NextBus.isValidStop(routeStopTag)) {\n      this.setState({ stopIsValid: true });\n      LocalStorage.addBusStopToLocalStorage(routeStopTag);\n      onAddOrRemoveStop();\n      return;\n    }\n\n    this.setState({ stopIsValid: false });\n  }\n\n  render() {\n    const { className } = this.props;\n    const { routeTag, stopTag, stopIsValid } = this.state;\n\n    return (\n      <Form onSubmit={this.validateAndAddStop} className={classNames(className)}>\n        <Row>\n          <Col xs=\"6\">\n            <FormGroup>\n              <Label for=\"manual-add-route-tag\">Route Tag:</Label>\n              <Input\n                type=\"text\"\n                id=\"manual-add-route-tag\"\n                className={classNames(\n                  {\n                    'is-valid': stopIsValid,\n                    'is-invalid': stopIsValid === false,\n                  },\n                )}\n                onChange={e => this.onChange(e, 'routeTag')}\n                placeholder=\"12\"\n                value={routeTag}\n              />\n            </FormGroup>\n          </Col>\n          <Col xs=\"6\">\n            <FormGroup>\n              <Label for=\"manual-add-route-stop\">Stop Tag:</Label>\n              <Input\n                type=\"text\"\n                id=\"manual-add-route-stop\"\n                className={classNames(\n                  {\n                    'is-valid': stopIsValid,\n                    'is-invalid': stopIsValid === false,\n                  },\n                )}\n                onChange={e => this.onChange(e, 'stopTag')}\n                placeholder=\"5837\"\n                value={stopTag}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <div>\n          <Button color=\"primary\" type=\"submit\">Validate & Add Stop</Button>\n        </div>\n      </Form>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Alert, Form, Input, Label, Table } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport NextBus from 'app/integrations/nextbus';\nimport LocalStorage from 'app/utils/local_storage';\nimport Loader from 'app/components/loader';\n\n\nexport default class GeolocateAdd extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    onAddOrRemoveStop: T.func.isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      errMsg: undefined,\n      nearbyStops: [],\n    };\n  }\n\n  getNearbyStops = async event => {\n    const meters = event.target.value;\n    if (!meters) { return; }\n\n    this.setState({ loading: true });\n    try {\n      const nearbyStops = await NextBus.getStopsNearMe(meters);\n      this.setState({ nearbyStops, loading: false });\n    } catch (e) {\n      console.error(e.message);\n      this.setState({\n        loading: false,\n        errMsg: e.message,\n      });\n    }\n  }\n\n  addStop = routeStopTag => {\n    const { onAddOrRemoveStop } = this.props;\n\n    LocalStorage.addBusStopToLocalStorage(routeStopTag);\n    onAddOrRemoveStop();\n  }\n\n  render() {\n    const { className } = this.props;\n    const { loading, errMsg, nearbyStops } = this.state;\n\n    return (\n      <>\n        <Alert color=\"danger\" fade={false}>\n          Warning: This probably {'won\\'t'} work. See{' '}\n          <a\n            href=\"https://developers.google.com/web/updates/2016/04/geolocation-on-secure-contexts-only\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Geolocation API Removed from Unsecured Origins in Chrome 50\n          </a>.\n        </Alert>\n\n        <Form className={classNames(className, 'mb-2')} inline>\n          <Label className=\"mr-2\">Find stops within</Label>\n          <Input type=\"select\" onChange={this.getNearbyStops}>\n            {/* Values are in meters */}\n            <option value=\"\">--Choose One--</option>\n            <option value=\"322\">1/5 mile</option>\n            <option value=\"402\">1/4 mile</option>\n            <option value=\"804\">1/2 mile</option>\n          </Input>\n        </Form>\n\n        {!!nearbyStops.length && (\n          <Table striped hover className=\"mt-4\">\n            <thead>\n              <tr>\n                <th>Route</th>\n                <th>Direction</th>\n                <th>Stop</th>\n              </tr>\n            </thead>\n            <tbody>\n              {nearbyStops.map(nearbyStop => {\n                const { tag, stopTag, title, directionTitle, stopTitle } = nearbyStop;\n                const routeStopTag = NextBus.getRouteStopTag(tag, stopTag);\n\n                return (\n                  <tr\n                    className=\"clickable\"\n                    key={routeStopTag}\n                    onClick={() => this.addStop(routeStopTag)}\n                  >\n                    <td>{title}</td>\n                    <td>{directionTitle}</td>\n                    <td>{stopTitle}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </Table>\n        )}\n\n        {loading && <Loader className=\"my-2\" />}\n        {errMsg && <div className=\"error-msg\">Error: {errMsg}</div>}\n      </>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport ManualAdd from './manual_add';\nimport GeolocateAdd from './geolocate_add';\n\n\nexport default class AddStopForm extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    toggleAddStopForm: T.func.isRequired,\n    onAddOrRemoveStop: T.func.isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: '1',\n    };\n  }\n\n  toggle = tab => {\n    const { activeTab } = this.state;\n    if (activeTab !== tab) {\n      this.setState({\n        activeTab: tab,\n      });\n    }\n  }\n\n  render() {\n    const { className, toggleAddStopForm, onAddOrRemoveStop } = this.props;\n    const { activeTab } = this.state;\n\n    return (\n      <div className={classNames(className, 'add-form', 'mb-2')}>\n        <Nav tabs>\n          <NavItem>\n            <NavLink\n              className={classNames('clickable', { active: activeTab === '1' })}\n              onClick={() => this.toggle('1')}\n            >\n              Geolocation\n            </NavLink>\n          </NavItem>\n          <NavItem>\n            <NavLink\n              className={classNames('clickable', { active: activeTab === '2' })}\n              onClick={() => this.toggle('2')}\n            >\n              Manual Input\n            </NavLink>\n          </NavItem>\n          <button type=\"button\" className=\"btn close-form\" onClick={toggleAddStopForm}>\n            <span className=\"fas fa-times\" />\n          </button>\n        </Nav>\n        <TabContent activeTab={activeTab}>\n          <TabPane tabId=\"1\">\n            <GeolocateAdd onAddOrRemoveStop={onAddOrRemoveStop} />\n          </TabPane>\n          <TabPane tabId=\"2\">\n            <ManualAdd onAddOrRemoveStop={onAddOrRemoveStop} />\n          </TabPane>\n        </TabContent>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Button } from 'reactstrap';\nimport classNames from 'classnames';\n\n\nconst buttonProps = {\n  className: 'mr-1',\n  size: 'xs',\n  color: 'secondary',\n  outline: true,\n};\n\nexport default class EditTogglers extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    showBusRemove: T.bool.isRequired,\n    toggleShowBusRemove: T.func.isRequired,\n    predictions: T.array,\n    toggleAddStopForm: T.func.isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n    predictions: [],\n  }\n\n  render() {\n    const {\n      className,\n      showBusRemove,\n      toggleShowBusRemove,\n      predictions,\n      toggleAddStopForm,\n    } = this.props;\n\n    return (\n      <div className={classNames(className)}>\n        {!showBusRemove && (\n          <Button {...buttonProps} onClick={toggleAddStopForm}>\n            <span className=\"fas fa-plus\" />\n          </Button>\n        )}\n        {!!predictions.length && (\n          <Button {...buttonProps} onClick={toggleShowBusRemove}>\n            <span className=\"fas fa-pen\" />\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Card, CardBody } from 'reactstrap';\nimport moment from 'moment';\nimport classNames from 'classnames';\n\nimport LocalStorage, { BUS_STOP_ROUTE_TAGS_KEY } from 'app/utils/local_storage';\nimport { WARNING_AFTER_N_MISSED_CALLS } from 'app/constants';\nimport NextBus from 'app/integrations/nextbus';\nimport TimeSinceLastUpdated from 'app/components/time_since_last_updated';\n\nimport Predictions from './predictions';\nimport AddStopForm from './add_stop_form';\nimport EditTogglers from './edit_togglers';\n\n\nexport const CALL_INTERVAL = 10 * 1000;\nexport const MS_UNTIL_WARNING = CALL_INTERVAL * WARNING_AFTER_N_MISSED_CALLS;\n\nexport const sortPredictions = (stopRouteTags, predictions = []) => {\n  const sortedList = [];\n  predictions.forEach(prediction => {\n    const stopRouteTag = `${prediction._routeTag}|${prediction._stopTag}`;\n    sortedList[stopRouteTags.indexOf(stopRouteTag)] = prediction;\n  });\n  return sortedList;\n};\n\nexport default class Bus extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      predictions: [],\n      lastUpdated: undefined,\n      showAddStopForm: false,\n      showBusRemove: false,\n      loading: false,\n      errMsg: undefined,\n    };\n  }\n\n  async componentDidMount() {\n    await this.updateBusPredictions();\n    this.interval = setInterval(() => this.updateBusPredictions(), CALL_INTERVAL);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  toggleAddStopForm = () => {\n    const { showAddStopForm } = this.state;\n    this.setState({ showAddStopForm: !showAddStopForm });\n  }\n\n  onAddOrRemoveStop = async () => {\n    clearInterval(this.interval);\n    await this.updateBusPredictions();\n    this.interval = setInterval(this.updateBusPredictions, CALL_INTERVAL);\n  }\n\n  toggleShowBusRemove = () => {\n    const { showBusRemove } = this.state;\n    this.setState({ showBusRemove: !showBusRemove });\n  }\n\n  async updateBusPredictions() {\n    const stopRouteTags = LocalStorage.get(BUS_STOP_ROUTE_TAGS_KEY);\n\n    // Don't send an empty request\n    if (!stopRouteTags.length) { return; }\n\n    this.setState({ loading: true });\n    try {\n      const predictionResponse = await NextBus.getPredictions(stopRouteTags);\n\n      this.setState({\n        predictions: sortPredictions(stopRouteTags, predictionResponse.body.predictions),\n        loading: false,\n        lastUpdated: moment(),\n      });\n    } catch (e) {\n      console.error(e.message);\n      this.setState({\n        loading: false,\n        errMsg: e.message,\n        lastUpdated: moment(),\n      });\n    }\n  }\n\n  render() {\n    const { className } = this.props;\n    const {\n      predictions,\n      lastUpdated,\n      showAddStopForm,\n      showBusRemove,\n      loading,\n      errMsg,\n    } = this.state;\n\n    return (\n      <div className={classNames(className, 'bus')}>\n        {errMsg && <div className=\"error-msg\">Error: {errMsg}</div>}\n        {!errMsg && !predictions.length && (\n          <Card className=\"mb-2\">\n            <CardBody>\n              No bus stops added.\n            </CardBody>\n          </Card>\n        )}\n\n        <Predictions\n          predictions={predictions}\n          showBusRemove={showBusRemove}\n          onAddOrRemoveStop={this.onAddOrRemoveStop}\n        />\n\n        {showAddStopForm && (\n          <AddStopForm\n            toggleAddStopForm={this.toggleAddStopForm}\n            onAddOrRemoveStop={this.onAddOrRemoveStop}\n          />\n        )}\n\n        {!showAddStopForm && (\n          <div className=\"d-flex align-items-start justify-content-between\">\n            <EditTogglers\n              predictions={predictions}\n              toggleAddStopForm={this.toggleAddStopForm}\n              showBusRemove={showBusRemove}\n              toggleShowBusRemove={this.toggleShowBusRemove}\n            />\n\n            <TimeSinceLastUpdated\n              lastUpdated={lastUpdated}\n              msUntilWarning={MS_UNTIL_WARNING}\n              loading={loading}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import axios from 'axios';\nimport jsonpAdapter from 'axios-jsonp';\n\n\nexport const URL_BASE = 'https://api.darksky.net/forecast';\n\nexport default class DarkSky {\n  static getUrl = ({\n    // all params required\n    base = URL_BASE,\n    key,\n    lat,\n    long,\n    exclude = 'minutely,flags,currently',\n    lang = 'en',\n    units = 'auto',\n  }) => `${base}/${key}/${lat},${long}?exclude=${exclude}&lang=${lang}&units=${units}`;\n\n  static async fetchWeatherData({ lat, long, key, units }) {\n    // NOTE: this is a jsonp call. there are no status codes or errors to parse like with XHR\n    // try/catch errors in components that call this, so just return the response as-is\n    const response = await axios.get(this.getUrl({ lat, long, key, units }), {\n      adapter: jsonpAdapter, // gets around CORS\n    });\n    return response;\n  }\n\n  static async fetchAllLocationsWeatherData(locations, key, units) {\n    const darkSkyUnits = this.convertUnitsForDarkSky(units);\n    const responses = await axios.all(\n      locations.map(({ lat, long }) => (\n        this.fetchWeatherData({ lat, long, key, units: darkSkyUnits })\n      )),\n    );\n    return responses;\n  }\n\n  static isValidKey = async key => {\n    const response = await this.fetchWeatherData({ lat: 38, long: -122, key });\n    return !!response?.data;\n  }\n\n  static convertUnitsForDarkSky = (units = 'auto') => {\n    switch (units) {\n      case ('f'):\n        return 'us';\n      case ('c'):\n        return 'si';\n      case (''):\n      case ('auto'):\n        return 'auto';\n      default:\n        throw new Error(`Invalid Unit type: ${units}`);\n    }\n  };\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport moment from 'moment';\nimport classNames from 'classnames';\n\nimport { MIN_CHANCE_OF_RAIN } from 'app/constants';\n\n\nexport const PRECIP_HOUR_LIMIT = 23;\n\nexport default class TodaysRainForecast extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    hourlyForecasts: T.arrayOf(\n      T.shape({\n        precipProbability: T.number,\n        time: T.number,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    hourlyForecasts: [],\n  }\n\n  getFirstRainForecast = () => {\n    const { hourlyForecasts } = this.props;\n    return hourlyForecasts\n      .slice(0, PRECIP_HOUR_LIMIT)\n      .find(hourlyForecast => (\n        hourlyForecast.precipProbability >= MIN_CHANCE_OF_RAIN\n      )) || {};\n  }\n\n  render() {\n    const { className } = this.props;\n    const firstRainForecast = this.getFirstRainForecast();\n    const { precipProbability, time } = firstRainForecast;\n\n    return (\n      <div className={classNames(className, 'rain-chance')}>\n        { precipProbability ? (\n          <>\n            <div className=\"umbrella bring-umbrella\" />\n            <span className=\"pop text-info\">\n              {(precipProbability * 100).toFixed(0)}%\n            </span>\n            <sup className=\"at mx-1\">@</sup>\n            <span className=\"time\">{moment(time * 1000).format('hA')}</span>\n          </>\n        ) : (\n          <>\n            <div className=\"umbrella no-umbrella\" />\n            <div className=\"no-rain\">No rain in 24hr.</div>\n          </>\n        )}\n        <div className=\"text-muted\">\n          Based on a {(MIN_CHANCE_OF_RAIN * 100).toFixed(0)}% chance threshold.\n        </div>\n      </div>\n    );\n  }\n}\n","export const WARNING_AFTER_N_MISSED_CALLS = 2;\n\nexport const MIN_CHANCE_OF_RAIN = 0.30; // 30% chance\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\n// July 2019: DarkSky's icon mapping is pretty dumb right now:\n// \"The only case where a daily icon will show a *-night value is partly-cloudy-night\"\n\nconst DARK_SKY_ICON_MAP = {\n  'clear-day': 'clear',\n  'clear-night': 'clear',\n  cloudy: 'cloudy',\n  fog: 'fog',\n  'partly-cloudy-day': 'partlycloudy',\n  'partly-cloudy-night': 'partlycloudy',\n  rain: 'rain',\n  sleet: 'sleet',\n  snow: 'snow',\n  wind: 'wind',\n};\n\nexport const getIcon = iconName => (\n  `./images/weather-icons/${DARK_SKY_ICON_MAP[iconName] || 'unknown'}.svg`\n);\n\n\nexport default class WeatherIcon extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    icon: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n    icon: '',\n  }\n\n  render() {\n    const { className, icon } = this.props;\n\n    if (!icon) { return null; }\n\n    return (\n      <img className={classNames(className)} src={getIcon(icon)} alt=\"\" />\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\nimport LocalStorage, { WEATHER_UNITS_KEY } from 'app/utils/local_storage';\n\nimport WeatherIcon from '../../icon';\n\n\nexport const cToF = celsius => ((celsius * 9) / 5) + 32;\nexport const fToC = fahrenheit => ((fahrenheit - 32) * 5) / 9;\n\n\nexport default class TodaysForecastOverview extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    todaysForecast: T.shape({\n      icon: T.string,\n      summary: T.string,\n      temperatureMin: T.number,\n      temperatureMax: T.number,\n    }),\n  };\n\n  static defaultProps = {\n    className: '',\n    todaysForecast: {},\n  }\n\n  constructor(props) {\n    super(props);\n    this.weatherUnits = LocalStorage.get(WEATHER_UNITS_KEY);\n  }\n\n  getAltHighLow = () => {\n    const { weatherUnits, props } = this;\n    const { temperatureMin, temperatureMax } = props.todaysForecast;\n\n    if (!weatherUnits) { return null; }\n\n    const fn = weatherUnits === 'f' ? fToC : cToF;\n\n    return (\n      <div className=\"high-low-alt text-muted\">\n        {fn(temperatureMin).toFixed(0)}\n        /\n        {fn(temperatureMax).toFixed(0)}\n        &deg;\n        {weatherUnits === 'f' ? 'C' : 'F'}\n      </div>\n    );\n  }\n\n  render() {\n    const { className, todaysForecast } = this.props;\n    const { icon, summary, temperatureMin, temperatureMax } = todaysForecast;\n\n    return (\n      <div\n        className={classNames(\n          className, 'forecast', 'mb-3', 'd-flex', 'align-items-center', 'justify-content-center',\n        )}\n      >\n        <WeatherIcon icon={icon} />\n        <div className=\"text-truncate\">\n          <div className=\"conditions text-truncate\">\n            {summary}\n          </div>\n\n          <div className=\"high-low\">\n            {temperatureMin.toFixed(0)}\n            <span className=\"text-muted px-1\">/</span>\n            {temperatureMax.toFixed(0)}\n            &deg;\n          </div>\n\n          {this.getAltHighLow()}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\nexport default class Alerts extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    alerts: T.arrayOf(\n      T.shape({\n        title: T.string,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    alerts: [],\n  }\n\n  render() {\n    const { className, alerts } = this.props;\n\n    if (!alerts.length) { return null; }\n\n    return (\n      <div className={classNames(className, 'col-12 alerts')}>\n        <ul>\n          {alerts.map(alert => (\n            <li key={alert.title}>{alert.title}</li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\nimport TodaysRainForecast from './todays_rain_forecast';\nimport TodaysForecastOverview from './todays_forecast_overview';\nimport Alerts from './alerts';\n\n\nexport default class SidePanel extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    dailyForecasts: T.array,\n    hourlyForecasts: T.array,\n    alerts: T.array,\n  };\n\n  static defaultProps = {\n    className: '',\n    dailyForecasts: [],\n    hourlyForecasts: [],\n    alerts: [],\n  }\n\n  render() {\n    const { className, dailyForecasts, hourlyForecasts, alerts } = this.props;\n\n    return (\n      <div className={classNames(className, 'side-panel px-3')}>\n        <TodaysForecastOverview todaysForecast={dailyForecasts[0]} />\n        <TodaysRainForecast hourlyForecasts={hourlyForecasts} />\n        <Alerts alerts={alerts} />\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Table } from 'reactstrap';\nimport moment from 'moment';\nimport classNames from 'classnames';\n\nimport { MIN_CHANCE_OF_RAIN } from 'app/constants';\n\nimport WeatherIcon from '../icon';\n\n\nexport default class HourlyForecast extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    hourlyForecasts: T.arrayOf(\n      T.shape({\n        time: T.number,\n        temperature: T.number,\n        uvIndex: T.number,\n        humidity: T.number,\n        precipProbability: T.number,\n        apparentTemperature: T.number,\n        icon: T.string,\n        summary: T.string,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    hourlyForecasts: [],\n  }\n\n  render() {\n    const { className, hourlyForecasts } = this.props;\n\n    return (\n      <Table className=\"mb-0\">\n        <thead>\n          <tr>\n            <th>Time</th>\n            <th>Condition</th>\n            <th data-toggle=\"tooltip\" title=\"Temp/Feels Like\">Temp/FL</th>\n            <th>UVI</th>\n            <th>POP</th>\n            <th>Humid</th>\n          </tr>\n        </thead>\n        <tbody>\n          {hourlyForecasts.slice(0, 12).map(hourlyForecast => {\n            const {\n              time,\n              temperature,\n              uvIndex,\n              humidity,\n              precipProbability,\n              apparentTemperature,\n              icon,\n              summary,\n            } = hourlyForecast;\n\n            return (\n              <tr key={`hourly-forecast-${time}`}>\n                <td>\n                  {moment(time * 1000).format('hA')}\n                </td>\n                <td>\n                  <WeatherIcon icon={icon} /> {summary}\n                </td>\n                <td>\n                  {temperature.toFixed(0)}/{apparentTemperature.toFixed(0)}&deg;\n                </td>\n                <td>\n                  {uvIndex}\n                </td>\n                <td\n                  className={classNames(\n                    className, { 'text-info': precipProbability >= MIN_CHANCE_OF_RAIN },\n                  )}\n                >\n                  {(precipProbability * 100).toFixed(0)}%\n                </td>\n                <td>\n                  {(humidity * 100).toFixed(0)}%\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Row, Col } from 'reactstrap';\nimport moment from 'moment';\nimport classNames from 'classnames';\n\nimport WeatherIcon from '../icon';\n\n\nexport default class ThreeDayForecast extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    dailyForecasts: T.arrayOf(\n      T.shape({\n        icon: T.string,\n        summary: T.string,\n        temperatureMin: T.number,\n        temperatureMax: T.number,\n        time: T.number,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    dailyForecasts: [],\n  }\n\n  render() {\n    const { className, dailyForecasts } = this.props;\n\n    return (\n      <Row className={classNames(className, 'slim-gutters', 'forecasts')}>\n        {/* gets indexes 1, 2, 3 of the array */}\n        {dailyForecasts.slice(1, 4).map(dailyForecast => {\n          const { summary, temperatureMin, temperatureMax, time, icon } = dailyForecast;\n\n          return (\n            <Col sm=\"4\" key={`daily-forecast-${time}`}>\n              <div className=\"p-3 forecast d-flex align-items-center justify-content-center\">\n                <WeatherIcon icon={icon} />\n                <div className=\"text-truncate\">\n                  <div className=\"conditions text-truncate\">\n                    {summary}\n                  </div>\n                  <div className=\"high-low\">\n                    {temperatureMin.toFixed(0)}\n                    <span className=\"text-muted px-1\">/</span>\n                    {temperatureMax.toFixed(0)}\n                  </div>\n                  <div className=\"date\">\n                    {moment(time * 1000).format('dddd, MMM D')}\n                  </div>\n                </div>\n              </div>\n            </Col>\n          );\n        })}\n      </Row>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Row, Col, Card, CardBody, CardFooter } from 'reactstrap';\nimport classNames from 'classnames';\nimport moment from 'moment';\n\nimport LocalStorage, { WEATHER_KEY_KEY, WEATHER_UNITS_KEY } from 'app/utils/local_storage';\nimport { WARNING_AFTER_N_MISSED_CALLS } from 'app/constants';\nimport DarkSky from 'app/integrations/darksky';\nimport TimeSinceLastUpdated from 'app/components/time_since_last_updated';\n\nimport SidePanel from './side_panel';\nimport HourlyForecast from './hourly_forecast';\nimport ThreeDayForecast from './three_day_forecast';\n\n\nexport const CALL_INTERVAL = 15 * 60 * 1000;\nexport const MS_UNTIL_WARNING = CALL_INTERVAL * WARNING_AFTER_N_MISSED_CALLS;\nexport const LOCATIONS = [\n  { readable: 'Bernal Heights', lat: 37.7448205, long: -122.4100494 },\n];\n\nexport default class Weather extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      locations: [],\n      fetchError: false,\n      lastUpdated: undefined,\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    await this.updateWeatherLocations();\n    this.interval = setInterval(this.updateWeatherLocations, CALL_INTERVAL);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  updateWeatherLocations = async () => {\n    const key = LocalStorage.get(WEATHER_KEY_KEY);\n    const units = LocalStorage.get(WEATHER_UNITS_KEY);\n    try {\n      const locationsResponses = await DarkSky.fetchAllLocationsWeatherData(LOCATIONS, key, units);\n\n      this.setState({ loading: true });\n      this.setState({\n        locations: locationsResponses.map((locationResponse, idx) => {\n          const { hourly, daily, alerts } = locationResponse.data;\n\n          return {\n            dailyForecasts: daily.data,\n            hourlyForecasts: hourly.data,\n            alerts,\n            ...LOCATIONS[idx],\n          };\n        }),\n        lastUpdated: moment(),\n        loading: false,\n      });\n    } catch (e) {\n      console.error(e);\n      // jsonp makes error handling difficult. just assume it was user error\n      this.setState({\n        fetchError: true,\n        loading: false,\n        lastUpdated: moment(),\n      });\n    }\n  }\n\n  render() {\n    const { className } = this.props;\n    const { locations, lastUpdated, fetchError, loading } = this.state;\n\n    return (\n      <div className={classNames(className, 'weather')}>\n        {fetchError && (\n          <div className=\"error-msg\">\n            <span className=\"fas fa-exclamation-circle mr-1\" />\n            <span>\n              Weather request failed. Make sure {'you\\'ve'} supplied an API Key in the{' '}\n              <a href=\"#/settings\">settings</a>.\n            </span>\n          </div>\n        )}\n\n        {locations.map(location => {\n          const {\n            hourlyForecasts,\n            dailyForecasts,\n            alerts,\n            readable,\n            lat,\n            long,\n          } = location;\n\n          return (\n            <Card className=\"mb-2\" key={`${lat},${long}`}>\n              <div className=\"location-readable\">\n                <small>{readable}</small>\n              </div>\n\n              <CardBody>\n                <Row className=\"slim-gutters\">\n                  <Col xs=\"5\">\n                    <SidePanel\n                      dailyForecasts={dailyForecasts}\n                      hourlyForecasts={hourlyForecasts}\n                      alerts={alerts}\n                    />\n                  </Col>\n                  <Col xs=\"7\">\n                    <HourlyForecast\n                      hourlyForecasts={hourlyForecasts}\n                    />\n                  </Col>\n                </Row>\n              </CardBody>\n              <CardFooter className=\"bg-transparent py-0\">\n                <ThreeDayForecast dailyForecasts={dailyForecasts} />\n              </CardFooter>\n            </Card>\n          );\n        })}\n\n        <div className=\"d-flex justify-content-end\">\n          <TimeSinceLastUpdated\n            lastUpdated={lastUpdated}\n            msUntilWarning={MS_UNTIL_WARNING}\n            loading={loading}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport moment from 'moment';\nimport 'moment-precise-range-plugin';\nimport classNames from 'classnames';\n\n\nexport const INTERVAL_MS = 1000;\n\nexport default class CurrentDateTimeHeader extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.forceUpdate(), INTERVAL_MS);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const { className } = this.props;\n\n    const now = moment();\n    const date = now.format('MMMM Do, YYYY');\n    const time = now.format('h:mm');\n\n    return (\n      <div className={classNames(className, 'current-time', 'row', 'py-1', 'align-items-baseline')}>\n        <div className=\"time col-6\">{time}</div>\n        <div className=\"date col-6\">{date}</div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Row, Col } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport Bus from 'app/components/bus';\nimport Weather from 'app/components/weather';\n\nimport CurrentDateTimeHeader from './current_datetime_header';\n\n\nexport default class MainPage extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  render() {\n    const { className } = this.props;\n\n    return (\n      <div className={classNames(className)}>\n        <CurrentDateTimeHeader />\n        <Row className=\"slim-gutters\">\n          <Col sm=\"5\" className=\"mb-4\">\n            <Bus />\n          </Col>\n          <Col sm=\"7\" className=\"mb-4\">\n            <Weather />\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Button, ButtonGroup, Label } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport LocalStorage, { HTML_CLASS_KEY } from 'app/utils/local_storage';\n\n\nexport const MODES = {\n  DARK: 'dark-mode',\n  LIGHT: 'light-mode',\n};\n\nexport default class DarkLightModeSelector extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.setMode = this.setMode.bind(this);\n  }\n\n  setMode = mode => {\n    document.documentElement.className = mode;\n    LocalStorage.set(HTML_CLASS_KEY, mode);\n    // this is because we aren't using state to determine if we are in dark mode\n    this.forceUpdate();\n  }\n\n  isDarkModeSelected = () => (\n    document.documentElement.className === MODES.DARK\n  )\n\n  render() {\n    const { className } = this.props;\n\n    const isDarkModeSelected = this.isDarkModeSelected();\n\n    return (\n      <>\n        <Label className=\"mr-2\">Theme:</Label>\n        <ButtonGroup className={classNames(className)}>\n          <Button\n            onClick={() => this.setMode(MODES.DARK)}\n            color={isDarkModeSelected ? 'primary' : 'secondary'}\n          >\n            Dark\n          </Button>\n          <Button\n            onClick={() => this.setMode(MODES.LIGHT)}\n            color={isDarkModeSelected ? 'secondary' : 'primary'}\n          >\n            Light\n          </Button>\n        </ButtonGroup>\n      </>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\nimport { Button } from 'reactstrap';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { monokai } from 'react-syntax-highlighter/dist/cjs/styles/hljs';\n\nimport LocalStorage, { ALL_SETTINGS_KEYS } from 'app/utils/local_storage';\n\n\nexport default class DisplayLocalStorageData extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    localStorageKey: T.oneOf(ALL_SETTINGS_KEYS).isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('storage', this.rerender);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('storage', this.rerender);\n  }\n\n  // this only exists for the event listeners above to have a single fn to point to\n  rerender = () => this.forceUpdate();\n\n  getLocalStorageData = key => (\n    LocalStorage.get(key)\n  )\n\n  toggleShow = () => {\n    const { show } = this.state;\n    this.setState({ show: !show });\n  }\n\n  render() {\n    const { className, localStorageKey } = this.props;\n    const { show } = this.state;\n    const codeString = JSON.stringify(this.getLocalStorageData(localStorageKey));\n\n    return (\n      <div className={classNames(className)}>\n        <p>\n          <Button color=\"primary\" onClick={this.toggleShow}>\n            {!show ? 'Show' : 'Hide'} LocalStorage Data\n          </Button>\n        </p>\n        <p className=\"small\">JSON representation of the stored data.</p>\n        {show && (\n          <SyntaxHighlighter language=\"json\" style={monokai} className=\"my-3\">\n            {codeString}\n          </SyntaxHighlighter>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\nimport { Button } from 'reactstrap';\n\nimport LocalStorage, { SAMPLE_DATA } from 'app/utils/local_storage';\n\n\nexport default class SetSampleLocalStorageData extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    localStorageKey: T.oneOf(Object.keys(SAMPLE_DATA)).isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  setSampleData = () => {\n    const { localStorageKey } = this.props;\n    LocalStorage.setSampleData(localStorageKey);\n  }\n\n  render() {\n    const { className } = this.props;\n\n    return (\n      <div className={classNames(className)}>\n        <p>\n          <Button color=\"primary\" onClick={this.setSampleData}>\n            Set Sample LocalStorage Data\n          </Button>\n        </p>\n        <p className=\"small\">Replace stored data with sample data.</p>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport {\n  Row,\n  Col,\n  Card,\n  CardHeader,\n  CardBody,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  ButtonGroup,\n  Button,\n} from 'reactstrap';\nimport classNames from 'classnames';\n\nimport LocalStorage, {\n  BUS_STOP_ROUTE_TAGS_KEY,\n  WEATHER_KEY_KEY,\n  WEATHER_UNITS_KEY,\n} from 'app/utils/local_storage';\nimport DarkSky from 'app/integrations/darksky';\n\nimport DarkLightModeSelector from './dark_light_mode_selector';\nimport DisplayLocalStorageData from './display_local_storage_data';\nimport SetSampleLocalStorageData from './set_sample_local_storage_data';\n\n\nexport default class Settings extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = this.getInitialState();\n  }\n\n  getInitialState = () => ({\n    weatherKeyIsValid: undefined,\n    weatherKeyValue: LocalStorage.get(WEATHER_KEY_KEY),\n    weatherUnits: LocalStorage.get(WEATHER_UNITS_KEY),\n  })\n\n  onWeatherKeyChange = event => {\n    this.setState({ weatherKeyValue: event.target.value });\n  }\n\n  validateAndSetKey = async event => {\n    event.preventDefault();\n    const { weatherKeyValue } = this.state;\n\n    try {\n      if (await DarkSky.isValidKey(weatherKeyValue)) {\n        this.setState({ weatherKeyIsValid: true });\n        LocalStorage.set(WEATHER_KEY_KEY, weatherKeyValue);\n        return;\n      }\n      this.setState({ weatherKeyIsValid: false });\n    } catch (e) {\n      this.setState({ weatherKeyIsValid: false });\n    }\n  }\n\n  setWeatherUnits = units => {\n    this.setState({ weatherUnits: units });\n    LocalStorage.set(WEATHER_UNITS_KEY, units);\n  }\n\n  dumpLocalStorageAndResetState = () => {\n    this.setState(this.getInitialState());\n    LocalStorage.dump();\n  }\n\n  render() {\n    const { className } = this.props;\n    const { weatherKeyIsValid, weatherKeyValue, weatherUnits } = this.state;\n\n    return (\n      <div className={classNames(className)}>\n        <h1>Settings</h1>\n\n        <Row>\n          <Col xs=\"6\">\n            <Card className=\"mb-4\">\n              <CardHeader>\n                <h3 className=\"m-0\">Global</h3>\n              </CardHeader>\n              <CardBody>\n                <DarkLightModeSelector />\n\n                <hr />\n\n                <p>\n                  <Button\n                    color=\"danger\"\n                    onClick={this.dumpLocalStorageAndResetState}\n                  >\n                    Dump All Local Storage\n                  </Button>\n                </p>\n                <p className=\"small\">\n                  This will remove stored bus stops, your DarkSky key, and the weather units.\n                </p>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col xs=\"6\">\n            <Card className=\"mb-4\">\n              <CardHeader>\n                <h3 className=\"m-0\">Bus</h3>\n              </CardHeader>\n              <CardBody>\n                <DisplayLocalStorageData localStorageKey={BUS_STOP_ROUTE_TAGS_KEY} />\n\n                <hr />\n\n                <SetSampleLocalStorageData localStorageKey={BUS_STOP_ROUTE_TAGS_KEY} />\n              </CardBody>\n            </Card>\n          </Col>\n\n          <Col xs=\"6\">\n            <Card className=\"mb-4\">\n              <CardHeader>\n                <h3 className=\"m-0\">Weather</h3>\n              </CardHeader>\n              <CardBody>\n                <Form onSubmit={this.validateAndSetKey}>\n                  <FormGroup>\n                    <Label for=\"weather-key\">DarkSky API Key:</Label>\n                    <Input\n                      type=\"text\"\n                      id=\"weather-key\"\n                      className={classNames(\n                        {\n                          'is-valid': weatherKeyIsValid,\n                          'is-invalid': weatherKeyIsValid === false,\n                        },\n                      )}\n                      onChange={this.onWeatherKeyChange}\n                      value={weatherKeyValue}\n                    />\n                  </FormGroup>\n                  <Button color=\"primary\" type=\"submit\">Validate & Store Key</Button>\n                </Form>\n\n                <hr />\n\n                <FormGroup>\n                  <Label className=\"mr-2\">Weather Units:</Label>\n                  <ButtonGroup>\n                    <Button\n                      color={weatherUnits === '' ? 'primary' : 'secondary'}\n                      onClick={() => this.setWeatherUnits('')}\n                    >\n                      Auto\n                    </Button>\n                    <Button\n                      color={weatherUnits === 'f' ? 'primary' : 'secondary'}\n                      onClick={() => this.setWeatherUnits('f')}\n                    >\n                      F\n                    </Button>\n                    <Button\n                      color={weatherUnits === 'c' ? 'primary' : 'secondary'}\n                      onClick={() => this.setWeatherUnits('c')}\n                    >\n                      C\n                    </Button>\n                  </ButtonGroup>\n                </FormGroup>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport { Container } from 'reactstrap';\n\nimport MainNav from 'app/components/main_nav';\nimport MainPage from 'app/components/main_page';\nimport SettingsPage from 'app/components/settings_page';\n\n\nexport default function App() {\n  return (\n    <HashRouter>\n      <Container>\n        <MainNav />\n\n        <Switch>\n          <Route path=\"/settings\">\n            <SettingsPage />\n          </Route>\n          <Route path=\"/\">\n            <MainPage />\n          </Route>\n        </Switch>\n      </Container>\n    </HashRouter>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.scss';\n\nimport App from 'app';\n\n\nconst DOM_ID = 'react-app';\n\nReactDOM.render(\n  <App />,\n  document.getElementById(DOM_ID),\n);\n"],"sourceRoot":""}