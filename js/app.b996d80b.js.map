{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./js/app/components/main_nav/index.jsx","webpack:///./js/app/utils/local_storage/index.js","webpack:///./js/app/integrations/nextbus/index.js","webpack:///./js/app/components/loader/index.jsx","webpack:///./js/app/components/time_since_last_updated/index.jsx","webpack:///./js/app/components/bus/stop_info/index.jsx","webpack:///./js/app/components/bus/predictions/times/index.jsx","webpack:///./js/app/components/bus/predictions/index.jsx","webpack:///./js/app/components/bus/add_stop_form/manual_add/index.jsx","webpack:///./js/app/components/bus/add_stop_form/geolocate_add/index.jsx","webpack:///./js/app/components/bus/add_stop_form/index.jsx","webpack:///./js/app/components/bus/edit_togglers/index.jsx","webpack:///./js/app/components/bus/route_stop_removal/index.jsx","webpack:///./js/app/components/bus/index.jsx","webpack:///./js/app/integrations/darksky/index.js","webpack:///./js/app/components/weather/side_panel/todays_rain_forecast/index.jsx","webpack:///./js/app/constants/index.js","webpack:///./js/app/components/weather/icon/index.jsx","webpack:///./js/app/components/weather/side_panel/todays_forecast_overview/index.jsx","webpack:///./js/app/components/weather/side_panel/alerts/index.jsx","webpack:///./js/app/components/weather/side_panel/index.jsx","webpack:///./js/app/components/weather/hourly_forecast/index.jsx","webpack:///./js/app/components/weather/three_day_forecast/index.jsx","webpack:///./js/app/components/weather/index.jsx","webpack:///./js/app/components/main_page/current_datetime_header/index.jsx","webpack:///./js/app/components/main_page/index.jsx","webpack:///./js/app/components/settings_page/dark_light_mode_selector/index.jsx","webpack:///./js/app/components/settings_page/display_local_storage_data/index.jsx","webpack:///./js/app/components/settings_page/set_sample_local_storage_data/index.jsx","webpack:///./js/app/components/settings_page/index.jsx","webpack:///./js/app/index.jsx","webpack:///./index.jsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","MainNav","className","this","props","classNames","to","PureComponent","T","string","WEATHER_KEY_KEY","WEATHER_UNITS_KEY","BUS_ROUTE_STOP_TAGS_KEY","HTML_CLASS_KEY","ALL_SETTINGS_KEYS","reduce","fullArray","SAMPLE_DATA","LocalStorage","JSON","parse","localStorage","getItem","val","setItem","stringify","dispatchEvent","Event","set","forEach","removeItem","routeStopTag","routeStopTags","getBusStopsFromLocalStorage","Set","filter","tag","URL","getUserPosition","options","Promise","reject","navigator","geolocation","getCurrentPosition","NextBus","axios","params","command","a","stops","useShortTitles","paramsSerializer","qs","arrayFormat","response","parsePredictionsXMLResponse","errorText","body","__text","parseRouteConfigXMLResponse","mergeRouteData","route","meters","all","getRouteConfig","responses","geoLocation","routeConfig","currPosition","google","maps","LatLng","coords","latitude","longitude","stopResults","direction","stop","stopLatLng","_lat","_lon","geometry","spherical","computeDistanceBetween","_tag","title","_title","directionName","_name","directionTitle","latLng","stopId","_stopId","stopTag","stopTitle","getPredictions","predictions","xmlString","X2JS","arrayAccessFormPaths","xml2js","routeTag","split","routeData","stopTags","idx","Loader","loading","small","bool","TimeSinceLastUpdated","timeAgo","lastUpdated","preciseDiff","moment","msUntilWarning","diff","interval","setInterval","forceUpdate","clearInterval","overdue","isOverdue","getReadableTime","number","StopInfo","prediction","_dirTitleBecauseNoPredictions","_stopTitle","shape","Times","predictionTimes","time","_tripTag","_affectedByLayover","_minutes","arrayOf","Predictions","_routeTag","_stopTag","Card","CardBody","ManualAdd","event","field","setState","target","preventDefault","onAddOrRemoveStop","state","getRouteStopTag","stopIsValid","undefined","isValidStop","addBusStopToLocalStorage","Form","onSubmit","validateAndAddStop","Row","Col","xs","FormGroup","Label","for","Input","type","onChange","placeholder","Button","color","func","isRequired","GeolocateAdd","getStopsNearMe","nearbyStops","errMsg","console","error","message","Alert","fade","href","rel","inline","getNearbyStops","Table","striped","hover","nearbyStop","onClick","addStop","AddStopForm","tab","activeTab","toggleAddStopForm","Nav","tabs","NavItem","NavLink","active","toggle","TabContent","TabPane","tabId","buttonProps","size","outline","EditTogglers","showBusRemove","toggleShowBusRemove","RouteStopRemoval","removeBusStopFromLocalStorage","splitRouteStopTag","removeStop","sortPredictions","sortedList","indexOf","Bus","showAddStopForm","updateBusPredictions","predictionResponse","CALL_INTERVAL","DarkSky","lat","long","units","getUrl","adapter","jsonpAdapter","locations","darkSkyUnits","convertUnitsForDarkSky","fetchWeatherData","base","exclude","lang","TodaysRainForecast","hourlyForecasts","find","hourlyForecast","precipProbability","firstRainForecast","getFirstRainForecast","toFixed","format","DARK_SKY_ICON_MAP","cloudy","fog","rain","sleet","snow","wind","WeatherIcon","iconName","icon","src","alt","cToF","celsius","fToC","fahrenheit","TodaysForecastOverview","weatherUnits","todaysForecast","temperatureMin","temperatureMax","fn","summary","getAltHighLow","Alerts","alerts","alert","SidePanel","dailyForecasts","array","HourlyForecast","data-toggle","temperature","uvIndex","humidity","apparentTemperature","ThreeDayForecast","dailyForecast","sm","LOCATIONS","readable","Weather","fetchAllLocationsWeatherData","locationsResponses","locationResponse","hourly","daily","fetchError","updateWeatherLocations","location","CardFooter","CurrentDateTimeHeader","now","date","MainPage","MODES","DarkLightModeSelector","document","documentElement","setMode","isDarkModeSelected","ButtonGroup","DisplayLocalStorageData","show","addEventListener","rerender","removeEventListener","localStorageKey","codeString","getLocalStorageData","toggleShow","language","style","monokai","oneOf","SetSampleLocalStorageData","setSampleData","Settings","weatherKeyIsValid","weatherKeyValue","isValidKey","getInitialState","dump","CardHeader","dumpLocalStorageAndResetState","validateAndSetKey","onWeatherKeyChange","setWeatherUnits","App","Container","path","ReactDOM","render","getElementById"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAKlC,IAFGe,GAAqBA,EAAoBhB,GAEtCO,EAASC,QACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrBiB,EAAG,GAGAZ,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU8B,QAGnC,IAAIC,EAASH,EAAiB5B,GAAY,CACzCK,EAAGL,EACHgC,GAAG,EACHF,QAAS,IAUV,OANAhB,EAAQd,GAAUW,KAAKoB,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG/DK,EAAOC,GAAI,EAGJD,EAAOD,QAKfJ,EAAoBO,EAAInB,EAGxBY,EAAoBQ,EAAIN,EAGxBF,EAAoBS,EAAI,SAASL,EAASM,EAAMC,GAC3CX,EAAoBY,EAAER,EAASM,IAClC5B,OAAO+B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEX,EAAoBgB,EAAI,SAASZ,GACX,oBAAXa,QAA0BA,OAAOC,aAC1CpC,OAAO+B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DrC,OAAO+B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKzC,OAAO0C,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBzC,OAAO+B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBS,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAL,EAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASgB,EAAQC,GAAY,OAAO/C,OAAOC,UAAUC,eAAeC,KAAK2C,EAAQC,IAGzG7B,EAAoB8B,EAAI,GAExB,IAAIC,EAAaC,OAAqB,aAAIA,OAAqB,cAAK,GAChEC,EAAmBF,EAAW5C,KAAKuC,KAAKK,GAC5CA,EAAW5C,KAAOf,EAClB2D,EAAaA,EAAWG,QACxB,IAAI,IAAIvD,EAAI,EAAGA,EAAIoD,EAAWlD,OAAQF,IAAKP,EAAqB2D,EAAWpD,IAC3E,IAAIU,EAAsB4C,EAI1B1C,EAAgBJ,KAAK,CAAC,IAAI,IAEnBM,I,4CCvJT,IAAI0C,EAAM,CACT,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,aAAc,GACd,UAAW,GACX,aAAc,GACd,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,aAAc,GACd,gBAAiB,GACjB,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,UAAW,GACX,aAAc,GACd,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,OAAQ,GACR,UAAW,GACX,aAAc,GACd,UAAW,GACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,YAAa,IACb,eAAgB,IAChB,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,QAAS,IACT,WAAY,IACZ,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,QAAS,IACT,WAAY,IACZ,OAAQ,IACR,UAAW,IACX,QAAS,IACT,WAAY,IACZ,QAAS,IACT,aAAc,IACd,gBAAiB,IACjB,WAAY,IACZ,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,YAAa,IACb,eAAgB,IAChB,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,gBAAiB,IACjB,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,KAIf,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOrC,EAAoBsC,GAE5B,SAASC,EAAsBF,GAC9B,IAAIrC,EAAoBY,EAAEuB,EAAKE,GAAM,CACpC,IAAIG,EAAI,IAAIC,MAAM,uBAAyBJ,EAAM,KAEjD,MADAG,EAAEE,KAAO,mBACHF,EAEP,OAAOL,EAAIE,GAEZD,EAAeO,KAAO,WACrB,OAAO7D,OAAO6D,KAAKR,IAEpBC,EAAeQ,QAAUL,EACzBlC,EAAOD,QAAUgC,EACjBA,EAAeE,GAAK,K,seC7QCO,E,4RASV,IACCC,EAAcC,KAAKC,MAAnBF,UACR,OACE,yBAAKA,UAAWG,IAAWH,EAAW,WACpC,kBAAC,IAAD,CAAMI,GAAG,KAAI,0BAAMJ,UAAU,iBAC7B,kBAAC,IAAD,CAAMI,GAAG,aAAY,0BAAMJ,UAAU,qB,GAdRK,iB,IAAhBN,E,YACA,CACjBC,UAAWM,YAAEC,S,IAFIR,E,eAKG,CACpBC,UAAW,K,4HCXFQ,EAAkB,aAClBC,EAAoB,eACpBC,EAA0B,gBAC1BC,EAAiB,YACjBC,EAAoB,CAC/BJ,EACAC,EACAC,EACAC,GACAE,QAEA,SAACC,EAAWnC,GAAZ,oBAAyBmC,GAAzB,CAAoCnC,EAApC,UAZ0C,cAY1C,OAA2EA,OAC3E,IAGWoC,EAAc,OACxBL,EAA0B,CAAC,UAAW,UAAW,UAAW,YAG1CM,E,iFACRrC,GACT,OAAOsC,KAAKC,MACVhC,OAAOiC,aAAaC,QAAQzC,IAE5BO,OAAOiC,aAAaC,QAApB,UAzBsC,cAyBtC,OAA8DzC,MAC1D,K,0BAGGA,EAAK0C,GACdnC,OAAOiC,aAAaG,QAAQ3C,EAAKsC,KAAKM,UAAUF,IAIhDnC,OAAOsC,cAAc,IAAIC,MAAM,c,oCAGZ9C,GACnBsB,KAAKyB,IAAI/C,EAAKoC,EAAYpC,M,6BAI1BiC,EAAkBe,SAAQ,SAAAhD,GAAG,OAAIO,OAAOiC,aAAaS,WAAWjD,Q,oDAIhE,OAAOsB,KAAKhC,IAAIyC,IAA4B,K,+CAGdmB,GAC9B,IAAMC,EAAgB7B,KAAK8B,8BAC3B9B,KAAKyB,IACHhB,EADF,IAEM,IAAIsB,IAAJ,cAAYF,GAAZ,CAA2BD,S,oDAIEA,GACnC,IAAMC,EAAgB7B,KAAK8B,8BAC3B9B,KAAKyB,IACHhB,EACAoB,EAAcG,QAAO,SAAAC,GAAG,OAAIA,IAAQL,U,6ECxD7BM,GAAM,uDAENC,GAAkB,SAAAC,GAAO,OACpC,IAAIC,SAAQ,SAACxC,EAASyC,GACpBC,UAAUC,YAAYC,mBAAmB5C,EAASyC,EAAQF,OAIzCM,G,2HACSb,G,yFACHc,IAAM3E,IAAIkE,GAAK,CACpCU,OAAQ,CACNC,QAAS,2BACTC,EAAG,UACHC,MAAOlB,EACPmB,gBAAgB,GAElBC,iBAAkB,SAAAL,GAAM,OAAIM,KAAG5B,UAAUsB,EAAQ,CAAEO,YAAa,c,cAP5DC,E,OAUA9H,EAAO0E,KAAKqD,4BAA4BD,EAAS9H,M,kBAEhD,IAAI+G,SAAQ,SAACxC,EAASyC,GAAW,QAChCgB,EAAYhI,SAAH,UAAGA,EAAMiI,YAAT,iBAAG,EAAY7D,aAAf,aAAG,EAAmB8D,OACjCF,GAAahB,EAAO,IAAI5C,MAAM4D,IAElCzD,EAAQvE,O,wPAKaqH,IAAM3E,IAAIkE,GAAK,CACpCU,OAAQ,CACNC,QAAS,cACTC,EAAG,UACHE,gBAAgB,K,cAJdI,E,OAQA9H,EAAO0E,KAAKyD,4BAA4BL,EAAS9H,M,kBAEhD,IAAI+G,SAAQ,SAACxC,EAASyC,GAAW,QAChCgB,EAAYhI,SAAH,UAAGA,EAAMiI,YAAT,iBAAG,EAAY7D,aAAf,aAAG,EAAmB8D,OACjCF,GAAahB,EAAO,IAAI5C,MAAM4D,IAElCzD,EAAQ,EAAK6D,eAAepI,EAAKiI,KAAKI,Y,qJAIdC,G,iGACFjB,IAAMkB,IAAI,CAChC1B,KACAnC,KAAK8D,mB,cAFDC,E,aAK6BA,E,GAA5BC,E,KAAaC,E,KAEdC,EAAe,IAAIC,OAAOC,KAAKC,OACnCL,EAAYM,OAAOC,SACnBP,EAAYM,OAAOE,WAGfC,EAAc,GACpBR,EAAYvC,SAAQ,SAAAiC,GAClBA,EAAMe,UAAUhD,SAAQ,SAAAgD,GACtBA,EAAUC,KAAKjD,SAAQ,SAAAiD,GAErB,IAAMC,EAAa,IAAIT,OAAOC,KAAKC,OAAOM,EAAKE,KAAMF,EAAKG,MACzCX,OAAOC,KAAKW,SAASC,UACnCC,uBAAuBf,EAAcU,IAExBhB,GACda,EAAYrI,KAAK,CACf6F,IAAK0B,EAAMuB,KACXC,MAAOxB,EAAMyB,OAEbC,cAAeX,EAAUY,MACzBC,eAAgBb,EAAUU,OAE1BI,OAAQZ,EAERa,OAAQd,EAAKe,QACbC,QAAShB,EAAKO,KACdU,UAAWjB,EAAKS,kB,kBAOnBX,G,mJAmCgB7C,G,kGAEE5B,KAAK6F,eAAe,CAACjE,I,cAAtCwB,E,4BACGA,SAAD,UAACA,EAAUG,YAAX,aAAC,EAAgBuC,c,0DAElB,G,yJAIwBC,GACjC,OAAO,IAAIC,IAAK,CACdC,qBAAsB,CACpB,mBACA,2CAEDC,OAAOH,K,kDAGuBA,GACjC,OAAO,IAAIC,IAAK,CACdC,qBAAsB,CACpB,gBAEDC,OAAOH,K,sCAGWI,EAAUR,GAC/B,gBAAUQ,EAAV,YAAsBR,K,wCAGC/D,GACvB,OAAOA,EAAawE,MAAM,S,SApJT1D,G,kBAqFK,SAAA2D,GA6BtB,OAfAA,EAAU3E,SAAQ,SAAAiC,GAEhB,IAAM2C,EAAW,GACjB3C,EAAMgB,KAAKjD,SAAQ,SAAAiD,GACjB2B,EAAS3B,EAAKO,MAAQP,KAIxBhB,EAAMe,UAAUhD,SAAQ,SAAAgD,GACtBA,EAAUC,KAAKjD,SAAQ,SAACiD,EAAM4B,GAE5B7B,EAAUC,KAAK4B,GAAOD,EAAS3B,EAAKO,eAInCmB,K,sQC1HUG,G,6RAaV,MAC+BxG,KAAKC,MAAnCF,EADD,EACCA,UAAW0G,EADZ,EACYA,QAASC,EADrB,EACqBA,MAE5B,OAAKD,EAGH,yBAAK1G,UAAWG,IAAWH,EAAW,UAAW,CAAE,gBAAiB2G,KAClE,yBAAK3G,UAAU,YACf,yBAAKA,UAAU,YACf,yBAAKA,UAAU,aANI,S,GAhBSK,iB,+PAAfoG,G,YACA,CACjBzG,UAAWM,YAAEC,OACbmG,QAASpG,YAAEsG,KACXD,MAAOrG,YAAEsG,O,IAJQH,G,eAOG,CACpBzG,UAAW,GACX0G,SAAS,EACTC,OAAO,ICNJ,IAEcE,G,uWAuBD,WAAM,IAGhBC,EAFkB,EAAK5G,MAArB6G,YAEoBC,YAAYC,OAExC,OAAKH,EAGL,UAAUA,EAAV,SAFS,e,wBAKC,WAAM,MACwB,EAAK5G,MAArC6G,EADQ,EACRA,YAAaG,EADL,EACKA,eACrB,OAAOD,MAASE,KAAKJ,IAAgBG,K,0DArBnB,WAClBjH,KAAKmH,SAAWC,aAAY,kBAAM,EAAKC,gBAlBhB,O,6CAsBvBC,cAActH,KAAKmH,Y,+BAmBZ,MACqCnH,KAAKC,MAAzCF,EADD,EACCA,UAAW+G,EADZ,EACYA,YAAaL,EADzB,EACyBA,QAE1Bc,EAAUvH,KAAKwH,YAErB,OACE,yBAAKzH,UAAWG,IAAWH,EAAW,4BACpC,0BAAMA,UAAWG,IAAW,CAAEqH,aAC3BT,GAAe9G,KAAKyH,mBAEvB,kBAAC,GAAD,CAAQ1H,UAAU,eAAe0G,QAASA,EAASC,OAAK,S,GAjDdtG,iB,+PAA7BwG,G,YACA,CACjB7G,UAAWM,YAAEC,OACbwG,YAAazG,YAAExB,OACfoI,eAAgB5G,YAAEqH,OAClBjB,QAASpG,YAAEsG,O,IALMC,G,eAQG,CACpB7G,UAAW,GACX+G,YAAa,KACbG,eAAgB,IAChBR,SAAS,I,IClBQkB,G,6RAiBV,MAC2B3H,KAAKC,MAA/BF,EADD,EACCA,UAAW6H,EADZ,EACYA,WACXlD,EAAyDkD,EAAzDlD,UAAWmD,EAA8CD,EAA9CC,8BAA+BC,EAAeF,EAAfE,WAElD,OACE,yBAAK/H,UAAWG,IAAWH,IACzB,yBAAKA,UAAU,gBACZ2E,aAAA,EAAAA,EAAWU,SAAUyC,GAExB,yBAAK9H,UAAU,cAAf,IACI+H,Q,GA3B0B1H,iB,+PAAjBuH,G,YACA,CACjB5H,UAAWM,YAAEC,OACbsH,WAAYvH,YAAE0H,MAAM,CAClBrD,UAAWrE,YAAE0H,MAAM,CACjB3C,OAAQ/E,YAAEC,SAEZwH,WAAYzH,YAAEC,OACduH,8BAA+BxH,YAAEC,W,IARlBqH,G,eAYG,CACpB5H,UAAW,GACX6H,WAAY,K,ICdKI,G,6RAiBV,MACgChI,KAAKC,MAApCF,EADD,EACCA,UAAWkI,EADZ,EACYA,gBAEnB,OACE,yBAAKlI,UAAWG,IAAWH,EAAW,qBACnCkI,EAAgBnM,OACf,oCACGmM,EAAgB9I,MAAM,EAAG,GAAGC,KAAI,SAAC8I,EAAM3B,GAAP,OAC/B,0BAAM7H,IAAG,UAAKwJ,EAAKC,WACjB,0BACEpI,UAAWG,IACT,kBACA,CACE,2BAA4BgI,EAAKE,mBACjC,YAAqB,IAAR7B,EACb,aAAsB,IAARA,KAIC,MAAlB2B,EAAKG,SAAmB,MAAQH,EAAKG,UAEvC9B,IAAS0B,EAAgBnM,OAAS,GAAM,UAK/C,0BAAMiE,UAAU,sBAAhB,a,GA3CyBK,iB,+PAAd4H,G,YACA,CACjBjI,UAAWM,YAAEC,OACb2H,gBAAiB5H,YAAEiI,QACjBjI,YAAE0H,MAAM,CACNI,SAAU9H,YAAEC,OACZ8H,mBAAoB/H,YAAEC,OACtB+H,SAAUhI,YAAEC,Y,IAPC0H,G,eAYG,CACpBjI,UAAW,GACXkI,gBAAiB,K,ICVAM,G,6RAyBV,MAC4BvI,KAAKC,MAAhCF,EADD,EACCA,UAAW+F,EADZ,EACYA,YAEnB,OACE,yBAAK/F,UAAWG,IAAWH,IACxB+F,EAAY1G,KAAI,SAAAwI,GAAc,IACrBY,EAAmCZ,EAAnCY,UAAWC,EAAwBb,EAAxBa,SAAU/D,EAAckD,EAAdlD,UAC7B,OACE,kBAACgE,EAAA,EAAD,CAAM3I,UAAU,OAAOrB,IAAG,UAAK8J,EAAL,YAAkBC,IAC1C,kBAACE,EAAA,EAAD,CAAU5I,UAAU,qDAClB,yBAAKA,UAAU,aACZyI,GAGH,yBAAKzI,UAAU,mBACb,kBAAC,GAAD,CAAOkI,gBAAiBvD,aAAF,EAAEA,EAAWkD,aACnC,kBAAC,GAAD,CAAUA,WAAYA,e,GAzCCxH,iB,IAApBmI,G,YACA,CACjBxI,UAAWM,YAAEC,OACbwF,YAAazF,YAAEiI,QACbjI,YAAE0H,MAAM,CACNS,UAAWnI,YAAEC,OACbmI,SAAUpI,YAAEC,OACZoE,UAAWrE,YAAE0H,MAAM,CACjBH,WAAYvH,YAAEiI,QACZjI,YAAE0H,MAAM,CACNI,SAAU9H,YAAEC,OACZ8H,mBAAoB/H,YAAEC,OACtB+H,SAAUhI,YAAEC,iB,IAZLiI,G,eAoBG,CACpBxI,UAAW,GACX+F,YAAa,K,uWCtBI8C,G,wLAUnB,WAAY3I,GAAO,yBACjB,cAAMA,GADW,uBASR,SAAC4I,EAAOC,GACjB,EAAKC,SAAL,OAAiBD,EAAQD,EAAMG,OAAO5K,WAVrB,+DAaE,WAAMyK,GAAN,uBAAA/F,EAAA,6DACnB+F,EAAMI,iBACEC,EAAsB,EAAKjJ,MAA3BiJ,kBAFW,EAGW,EAAKC,MAA3BhD,EAHW,EAGXA,SAAUR,EAHC,EAGDA,QACZ/D,EAAec,GAAQ0G,gBAAgBjD,EAAUR,GACvD,EAAKoD,SAAS,CAAEM,iBAAaC,IALV,SAOT5G,GAAQ6G,YAAY3H,GAPX,0CAQjB,EAAKmH,SAAS,CAAEM,aAAa,IAC7BtI,EAAayI,yBAAyB5H,GACtCsH,IAViB,2BAcnB,EAAKH,SAAS,CAAEM,aAAa,IAdV,4CAbF,uDAEjB,EAAKF,MAAQ,CACXhD,SAAU,GACVR,QAAS,GACT0D,iBAAaC,GALE,E,6CA8BV,WACCvJ,EAAcC,KAAKC,MAAnBF,UADD,EAEoCC,KAAKmJ,MAAxChD,EAFD,EAECA,SAAUR,EAFX,EAEWA,QAAS0D,EAFpB,EAEoBA,YAE3B,OACE,kBAACI,GAAA,EAAD,CAAMC,SAAU1J,KAAK2J,mBAAoB5J,UAAWG,IAAWH,IAC7D,kBAAC6J,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAG,KACN,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAOC,IAAI,wBAAX,cACA,kBAACC,GAAA,EAAD,CACEC,KAAK,OACL5K,GAAG,uBACHQ,UAAWG,IACT,CACE,WAAYmJ,EACZ,cAA8B,IAAhBA,IAGlBe,SAAU,SAAA3K,GAAC,OAAI,EAAK2K,SAAS3K,EAAG,aAChC4K,YAAY,KACZjM,MAAO+H,MAIb,kBAAC0D,EAAA,EAAD,CAAKC,GAAG,KACN,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAOC,IAAI,yBAAX,aACA,kBAACC,GAAA,EAAD,CACEC,KAAK,OACL5K,GAAG,wBACHQ,UAAWG,IACT,CACE,WAAYmJ,EACZ,cAA8B,IAAhBA,IAGlBe,SAAU,SAAA3K,GAAC,OAAI,EAAK2K,SAAS3K,EAAG,YAChC4K,YAAY,OACZjM,MAAOuH,OAKf,6BACE,kBAAC2E,GAAA,EAAD,CAAQC,MAAM,UAAUJ,KAAK,UAA7B,6B,GArF6B/J,iB,IAAlBwI,G,YACA,CACjB7I,UAAWM,YAAEC,OACb4I,kBAAmB7I,YAAEmK,KAAKC,a,IAHT7B,G,eAMG,CACpB7I,UAAW,K,uRCNM2K,G,wLAUnB,WAAYzK,GAAO,yBACjB,cAAMA,GADW,2DASF,WAAM4I,GAAN,iBAAA/F,EAAA,yDACTc,EAASiF,EAAMG,OAAO5K,MADb,wDAIf,EAAK2K,SAAS,CAAEtC,SAAS,IAJV,kBAMa/D,GAAQiI,eAAe/G,GANpC,OAMPgH,EANO,OAOb,EAAK7B,SAAS,CACZtC,SAAS,EACToE,YAAQvB,EACRsB,gBAVW,kDAabE,QAAQC,MAAM,KAAEC,SAChB,EAAKjC,SAAS,CACZtC,SAAS,EACToE,OAAQ,KAAEG,UAhBC,0DATE,6EA8BT,SAAApJ,GAAgB,IAChBsH,EAAsB,EAAKjJ,MAA3BiJ,kBAERnI,EAAayI,yBAAyB5H,GACtCsH,OAhCA,EAAKC,MAAQ,CACX1C,SAAS,EACToE,YAAQvB,EACRsB,YAAa,IALE,E,6CAqCV,WACC7K,EAAcC,KAAKC,MAAnBF,UADD,EAEkCC,KAAKmJ,MAAtC1C,EAFD,EAECA,QAASoE,EAFV,EAEUA,OAAQD,EAFlB,EAEkBA,YAEzB,OACE,oCACE,kBAACK,GAAA,EAAD,CAAOV,MAAM,SAASW,MAAM,GAA5B,iBACiB,QADjB,2CACmE,IACjE,uBACEC,KAAK,wFACLnC,OAAO,SACPoC,IAAI,uBAHN,+DAFF,4FASc,YATd,wBAYA,kBAAC3B,GAAA,EAAD,CAAM1J,UAAWG,IAAWH,EAAW,QAASsL,QAAM,GACpD,kBAACrB,GAAA,EAAD,CAAOjK,UAAU,QAAjB,qBACA,kBAACmK,GAAA,EAAD,CAAOC,KAAK,SAASC,SAAUpK,KAAKsL,gBAElC,4BAAQlN,MAAM,IAAd,kBACA,4BAAQA,MAAM,OAAd,YACA,4BAAQA,MAAM,OAAd,YACA,4BAAQA,MAAM,OAAd,gBAIDwM,EAAY9O,QACb,kBAACyP,GAAA,EAAD,CAAOC,SAAO,EAACC,OAAK,EAAC1L,UAAU,QAC7B,+BACE,4BACE,qCACA,yCACA,sCAGJ,+BACG6K,EAAYxL,KAAI,SAAAsM,GAAc,IACrBzJ,EAAmDyJ,EAAnDzJ,IAAK0D,EAA8C+F,EAA9C/F,QAASR,EAAqCuG,EAArCvG,MAAOI,EAA8BmG,EAA9BnG,eAAgBK,EAAc8F,EAAd9F,UACvChE,EAAec,GAAQ0G,gBAAgBnH,EAAK0D,GAElD,OACE,wBACE5F,UAAU,YACVrB,IAAKkD,EACL+J,QAAS,kBAAM,EAAKC,QAAQhK,KAE5B,4BAAKuD,GACL,4BAAKI,GACL,4BAAKK,SAQhBa,GAAW,kBAAC,GAAD,CAAQ1G,UAAU,SAC7B8K,GAAU,yBAAK9K,UAAU,aAAf,UAAmC8K,Q,GA3GZzK,iB,+PAArBsK,G,YACA,CACjB3K,UAAWM,YAAEC,OACb4I,kBAAmB7I,YAAEmK,KAAKC,a,IAHTC,G,eAMG,CACpB3K,UAAW,K,ICRM8L,G,wLAWnB,WAAY5L,GAAO,yBACjB,cAAMA,GADW,qBAOV,SAAA6L,GACe,EAAK3C,MAAnB4C,YACUD,GAChB,EAAK/C,SAAS,CACZgD,UAAWD,OATf,EAAK3C,MAAQ,CACX4C,UAAW,KAHI,E,6CAgBV,aACqD/L,KAAKC,MAAzDF,EADD,EACCA,UAAWiM,EADZ,EACYA,kBAAmB9C,EAD/B,EAC+BA,kBAC9B6C,EAAc/L,KAAKmJ,MAAnB4C,UAER,OACE,yBAAKhM,UAAWG,IAAWH,EAAW,WAAY,SAChD,kBAACkM,GAAA,EAAD,CAAKC,MAAI,GACP,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACErM,UAAWG,IAAW,YAAa,CAAEmM,OAAsB,MAAdN,IAC7CJ,QAAS,kBAAM,EAAKW,OAAO,OAF7B,gBAOF,kBAACH,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACErM,UAAWG,IAAW,YAAa,CAAEmM,OAAsB,MAAdN,IAC7CJ,QAAS,kBAAM,EAAKW,OAAO,OAF7B,iBAOF,4BAAQnC,KAAK,SAASpK,UAAU,iBAAiB4L,QAASK,GACxD,0BAAMjM,UAAU,mBAGpB,kBAACwM,GAAA,EAAD,CAAYR,UAAWA,GACrB,kBAACS,GAAA,EAAD,CAASC,MAAM,KACb,kBAAC,GAAD,CAAcvD,kBAAmBA,KAEnC,kBAACsD,GAAA,EAAD,CAASC,MAAM,KACb,kBAAC,GAAD,CAAWvD,kBAAmBA,W,GA3DD9I,iB,IAApByL,G,YACA,CACjB9L,UAAWM,YAAEC,OACb0L,kBAAmB3L,YAAEmK,KAAKC,WAC1BvB,kBAAmB7I,YAAEmK,KAAKC,a,IAJToB,G,eAOG,CACpB9L,UAAW,K,mRCTf,IAAM2M,GAAc,CAClB3M,UAAW,OACX4M,KAAM,KACNpC,MAAO,YACPqC,SAAS,GAGUC,G,6RAYV,MAMH7M,KAAKC,MAJPF,EAFK,EAELA,UACA+M,EAHK,EAGLA,cACAC,EAJK,EAILA,oBACAf,EALK,EAKLA,kBAEInK,EAAgBd,EAAae,8BAEnC,OACE,yBAAK/B,UAAWG,IAAWH,KACvB+M,GACA,kBAACxC,GAAA,EAAD,QAAYoC,GAAZ,CAAyBf,QAASK,IAChC,0BAAMjM,UAAU,mBAGjB8B,EAAc/F,QACf,kBAACwO,GAAA,EAAD,QAAYoC,GAAZ,CAAyBf,QAASoB,IAChC,0BAAMhN,UAAU,qB,GA9BcK,iB,+PAArByM,G,YACA,CACjB9M,UAAWM,YAAEC,OACbwM,cAAezM,YAAEsG,KAAK8D,WACtBsC,oBAAqB1M,YAAEmK,KAAKC,WAC5BuB,kBAAmB3L,YAAEmK,KAAKC,a,IALToC,G,eAQG,CACpB9M,UAAW,K,ICfMiN,G,kWAMN,SAAC7G,EAAUR,GACtB,IAAM/D,EAAec,GAAQ0G,gBAAgBjD,EAAUR,GAC/CuD,EAAsB,EAAKjJ,MAA3BiJ,kBAERnI,EAAakM,8BAA8BrL,GAC3CsH,IACA,EAAK7B,iB,+CAIE,WACCtH,EAAcC,KAAKC,MAAnBF,UACF8B,EAAgBd,EAAae,8BAEnC,OACE,yBAAK/B,UAAWG,IAAWH,IACxB8B,EAAczC,KAAI,SAAAwC,GAAgB,MACLc,GAAQwK,kBAAkBtL,GADrB,WAC1BuE,EAD0B,KAChBR,EADgB,KAEjC,OACE,kBAAC+C,EAAA,EAAD,CAAM3I,UAAU,OAAOrB,IAAG,UAAKyH,EAAL,YAAiBR,IACzC,kBAACgD,EAAA,EAAD,CAAU5I,UAAU,qDAClB,yBAAKA,UAAU,aACZoG,GAGH,yBAAKpG,UAAU,mBACb,kBAACuK,GAAA,EAAD,CACEC,MAAM,SACNxK,UAAU,cACV4L,QAAS,kBAAM,EAAKwB,WAAWhH,EAAUR,IACzCgH,KAAK,MAJP,0B,GAhC4BvM,iB,+PAAzB4M,G,YACA,CACjBjN,UAAWM,YAAEC,OACb4I,kBAAmB7I,YAAEmK,KAAKC,aCKvB,IAGM2C,GAAkB,SAACvL,GAAoC,IAArBiE,EAAqB,uDAAP,GACrDuH,EAAa,GAKnB,OAJAvH,EAAYpE,SAAQ,SAAAkG,GAClB,IAAMhG,EAAe,GAAH,OAAMgG,EAAWY,UAAjB,YAA8BZ,EAAWa,UAC3D4E,EAAWxL,EAAcyL,QAAQ1L,IAAiBgG,KAE7CyF,GAGYE,G,0LASnB,WAAYtN,GAAO,yBACjB,cAAMA,GADW,gCAqBC,WAAM,IAChBuN,EAAoB,EAAKrE,MAAzBqE,gBACR,EAAKzE,SAAS,CAAEyE,iBAAkBA,OAvBjB,6CA0BC,sBAAA1K,EAAA,6DAClBwE,cAAc,EAAKH,UADD,SAEZ,EAAKsG,uBAFO,OAGlB,EAAKtG,SAAWC,YAAY,EAAKqG,qBAlDR,KA+CP,4CA1BD,kCAgCG,WAAM,IAClBX,EAAkB,EAAK3D,MAAvB2D,cACR,EAAK/D,SAAS,CAAE+D,eAAgBA,OAlCf,gDAqCI,8BAAAhK,EAAA,0DACfjB,EAAgBd,EAAae,+BAGhBhG,OAJE,wDAMrB,EAAKiN,SAAS,CAAEtC,SAAS,IANJ,kBAQc/D,GAAQmD,eAAehE,GARrC,OAQb6L,EARa,OAUnB,EAAK3E,SAAS,CACZjD,YAAasH,GAAgBvL,EAAe6L,EAAmBnK,KAAKuC,aACpEW,SAAS,EACTK,YAAaE,MACb6D,YAAQvB,IAdS,kDAiBnBwB,QAAQC,MAAM,KAAEC,SAChB,EAAKjC,SAAS,CACZtC,SAAS,EACToE,OAAQ,KAAEG,QACVlE,YAAaE,QArBI,2DAnCrB,EAAKmC,MAAQ,CACXrD,YAAa,GACbgB,iBAAawC,EACbkE,iBAAiB,EACjBV,eAAe,EACfrG,SAAS,EACToE,YAAQvB,GARO,E,uKAaXtJ,KAAKyN,uB,OACXzN,KAAKmH,SAAWC,aAAY,kBAAM,EAAKqG,yBAnCd,K,0IAuCzBnG,cAActH,KAAKmH,Y,+BA6CZ,IACCpH,EAAcC,KAAKC,MAAnBF,UADD,EASHC,KAAKmJ,MANPrD,EAHK,EAGLA,YACAgB,EAJK,EAILA,YACA0G,EALK,EAKLA,gBACAV,EANK,EAMLA,cACArG,EAPK,EAOLA,QACAoE,EARK,EAQLA,OAGF,OACE,yBAAK9K,UAAWG,IAAWH,EAAW,QACnC8K,GAAU,yBAAK9K,UAAU,aAAf,UAAmC8K,IAC5CA,IAAW/E,EAAYhK,QACvB,kBAAC4M,EAAA,EAAD,CAAM3I,UAAU,QACd,kBAAC4I,EAAA,EAAD,6BAMJ,yBAAK5I,UAAU,eACZ+M,EACC,kBAAC,GAAD,CAAkB5D,kBAAmBlJ,KAAKkJ,oBAE1C,kBAAC,GAAD,CACEpD,YAAaA,KAKlB0H,GACC,kBAAC,GAAD,CACExB,kBAAmBhM,KAAKgM,kBACxB9C,kBAAmBlJ,KAAKkJ,qBAI1BsE,GACA,yBAAKzN,UAAU,oDACb,kBAAC,GAAD,CACEiM,kBAAmBhM,KAAKgM,kBACxBc,cAAeA,EACfC,oBAAqB/M,KAAK+M,sBAG5B,kBAAC,GAAD,CACEjG,YAAaA,EACbG,eApIkB0G,IAqIlBlH,QAASA,U,GA1HUrG,iB,IAAZmN,G,YACA,CACjBxN,UAAWM,YAAEC,S,IAFIiN,G,eAKG,CACpBxN,UAAW,K,mCC7BM6N,G,kNAYaC,E,EAAAA,IAAKC,E,EAAAA,KAAMpP,E,EAAAA,IAAKqP,E,EAAAA,M,SAGvBpL,IAAM3E,IAAIgC,KAAKgO,OAAO,CAAEH,MAAKC,OAAMpP,MAAKqP,UAAU,CACvEE,QAASC,O,cADL9K,E,yBAGCA,G,oKAGiC+K,EAAWzP,EAAKqP,G,uFAClDK,EAAepO,KAAKqO,uBAAuBN,G,SACzBpL,IAAMkB,IAC5BsK,EAAU/O,KAAI,gBAAGyO,EAAH,EAAGA,IAAKC,EAAR,EAAQA,KAAR,OACZ,EAAKQ,iBAAiB,CAAET,MAAKC,OAAMpP,MAAKqP,MAAOK,Q,cAF7CrK,E,yBAKCA,G,wWA5BU6J,G,UACH,oBAEdW,YAFc,MAHM,mCAGN,EAGd7P,EAHc,EAGdA,IACAmP,EAJc,EAIdA,IACAC,EALc,EAKdA,KALc,IAMdU,eANc,MAMJ,2BANI,MAOdC,YAPc,MAOP,KAPO,MAQdV,aARc,MAQN,OARM,kBASPQ,EATO,YASC7P,EATD,YASQmP,EATR,YASeC,EATf,oBAS+BU,EAT/B,iBAS+CC,EAT/C,kBAS6DV,M,IAV1DH,G,4CA+BC,WAAMlP,GAAN,eAAAoE,EAAA,sEA/BD8K,GAgCWU,iBAAiB,CAAET,IAAK,GAAIC,MAAO,IAAKpP,QADlD,cACZ0E,EADY,4BAETA,aAAD,EAACA,EAAU9H,OAFD,2C,2DA/BDsS,G,0BAoCa,WAAoB,IAAnBG,EAAmB,uDAAX,OACvC,OAAQA,GACN,IAAM,IACJ,MAAO,KACT,IAAM,IACJ,MAAO,KACT,IAAM,GACN,IAAM,OACJ,MAAO,OACT,QACE,MAAM,IAAIrO,MAAJ,6BAAgCqO,QC5CvC,IAEcW,G,4WAgBI,WAErB,OAD4B,EAAKzO,MAAzB0O,gBAELxP,MAAM,EArBoB,IAsB1ByP,MAAK,SAAAC,GAAc,OAClBA,EAAeC,mBC7BW,OD8BtB,M,+CAGD,IACC/O,EAAcC,KAAKC,MAAnBF,UACFgP,EAAoB/O,KAAKgP,uBACvBF,EAA4BC,EAA5BD,kBAAmB5G,EAAS6G,EAAT7G,KAE3B,OACE,yBAAKnI,UAAWG,IAAWH,EAAW,gBAClC+O,EACA,oCACE,yBAAK/O,UAAU,4BACf,0BAAMA,UAAU,kBACQ,IAApB+O,GAAyBG,QAAQ,GADrC,KAGA,yBAAKlP,UAAU,WAAf,KACA,0BAAMA,UAAU,QAAQiH,IAAc,IAAPkB,GAAagH,OAAO,QAGrD,oCACE,yBAAKnP,UAAU,yBACf,yBAAKA,UAAU,WAAf,qBAGJ,yBAAKA,UAAU,cAAf,cACc,IAA2BkP,QAAQ,GADjD,4B,GA/CwC7O,iB,+PAA3BsO,G,YACA,CACjB3O,UAAWM,YAAEC,OACbqO,gBAAiBtO,YAAEiI,QACjBjI,YAAE0H,MAAM,CACN+G,kBAAmBzO,YAAEqH,OACrBQ,KAAM7H,YAAEqH,Y,IANKgH,G,eAWG,CACpB3O,UAAW,GACX4O,gBAAiB,KEfrB,IAAMQ,GAAoB,CACxB,YAAa,QACb,cAAe,QACfC,OAAQ,SACRC,IAAK,MACL,oBAAqB,eACrB,sBAAuB,eACvBC,KAAM,OACNC,MAAO,QACPC,KAAM,OACNC,KAAM,QAQaC,G,6RAWV,IAhBYC,EAgBZ,EACqB3P,KAAKC,MAAzBF,EADD,EACCA,UAAW6P,EADZ,EACYA,KAEnB,OAAKA,EAGH,yBAAK7P,UAAWG,IAAWH,GAAY8P,KAtBtBF,EAsBmCC,EAtB3B,iCACHT,GAAkBQ,IAAa,UAD5B,SAsBkCG,IAAI,KAH7C,S,GAdiB1P,iB,+PAApBsP,G,YACA,CACjB3P,UAAWM,YAAEC,OACbsP,KAAMvP,YAAEC,S,IAHSoP,G,eAMG,CACpB3P,UAAW,GACX6P,KAAM,KCzBH,IAAMG,GAAO,SAAAC,GAAO,OAAgB,EAAVA,EAAe,EAAK,IACxCC,GAAO,SAAAC,GAAU,OAAyB,GAAnBA,EAAa,IAAW,GAGvCC,G,wLAgBnB,WAAYlQ,GAAO,yBACjB,cAAMA,GADW,4BAKH,WAAM,aACZmQ,EADY,EACZA,aADY,IACEnQ,MAC2BoQ,eAAzCC,EAFY,EAEZA,eAAgBC,EAFJ,EAEIA,eAExB,IAAKH,EAAgB,OAAO,KAE5B,IAAMI,EAAsB,MAAjBJ,EAAuBH,GAAOF,GAEzC,OACE,yBAAKhQ,UAAU,2BACZyQ,EAAGF,GAAgBrB,QAAQ,GAD9B,IAGGuB,EAAGD,GAAgBtB,QAAQ,GAH9B,IAKoB,MAAjBmB,EAAuB,IAAM,QAjBlC,EAAKA,aAAerP,EAAa/C,IAAIwC,GAFpB,E,6CAwBV,MAC+BR,KAAKC,MAAnCF,EADD,EACCA,UAAWsQ,EADZ,EACYA,eACXT,EAAkDS,EAAlDT,KAAMa,EAA4CJ,EAA5CI,QAASH,EAAmCD,EAAnCC,eAAgBC,EAAmBF,EAAnBE,eAEvC,OACE,yBACExQ,UAAWG,IACTH,EAAW,WAAY,OAAQ,SAAU,qBAAsB,2BAGjE,kBAAC,GAAD,CAAa6P,KAAMA,IACnB,yBAAK7P,UAAU,iBACb,yBAAKA,UAAU,4BACZ0Q,GAGH,yBAAK1Q,UAAU,YACZuQ,EAAerB,QAAQ,GACxB,0BAAMlP,UAAU,mBAAhB,KACCwQ,EAAetB,QAAQ,GAH1B,KAOCjP,KAAK0Q,sB,GA/DoCtQ,iB,+PAA/B+P,G,YACA,CACjBpQ,UAAWM,YAAEC,OACb+P,eAAgBhQ,YAAE0H,MAAM,CACtB6H,KAAMvP,YAAEC,OACRmQ,QAASpQ,YAAEC,OACXgQ,eAAgBjQ,YAAEqH,OAClB6I,eAAgBlQ,YAAEqH,W,IAPHyI,G,eAWG,CACpBpQ,UAAW,GACXsQ,eAAgB,K,ICrBCM,G,6RAeV,MACuB3Q,KAAKC,MAA3BF,EADD,EACCA,UAAW6Q,EADZ,EACYA,OAEnB,OAAKA,EAAO9U,OAGV,yBAAKiE,UAAWG,IAAWH,EAAW,kBACpC,4BACG6Q,EAAOxR,KAAI,SAAAyR,GAAK,OACf,wBAAInS,IAAKmS,EAAM1L,OAAQ0L,EAAM1L,YANR,S,GAlBG/E,iB,+PAAfuQ,G,YACA,CACjB5Q,UAAWM,YAAEC,OACbsQ,OAAQvQ,YAAEiI,QACRjI,YAAE0H,MAAM,CACN5C,MAAO9E,YAAEC,Y,IALIqQ,G,eAUG,CACpB5Q,UAAW,GACX6Q,OAAQ,K,ICRSE,G,6RAeV,MACwD9Q,KAAKC,MAA5DF,EADD,EACCA,UAAWgR,EADZ,EACYA,eAAgBpC,EAD5B,EAC4BA,gBAAiBiC,EAD7C,EAC6CA,OAEpD,OACE,yBAAK7Q,UAAWG,IAAWH,EAAW,oBACpC,kBAAC,GAAD,CAAwBsQ,eAAgBU,EAAe,KACvD,kBAAC,GAAD,CAAoBpC,gBAAiBA,IACrC,kBAAC,GAAD,CAAQiC,OAAQA,S,GAtBexQ,iB,+PAAlB0Q,G,YACA,CACjB/Q,UAAWM,YAAEC,OACbyQ,eAAgB1Q,YAAE2Q,MAClBrC,gBAAiBtO,YAAE2Q,MACnBJ,OAAQvQ,YAAE2Q,Q,IALOF,G,eAQG,CACpB/Q,UAAW,GACXgR,eAAgB,GAChBpC,gBAAiB,GACjBiC,OAAQ,K,ICVSK,G,6RAsBV,MACgCjR,KAAKC,MAApCF,EADD,EACCA,UAAW4O,EADZ,EACYA,gBAEnB,OACE,kBAACpD,GAAA,EAAD,CAAOxL,UAAU,QACf,+BACE,4BACE,oCACA,yCACA,wBAAImR,cAAY,UAAU/L,MAAM,mBAAhC,WACA,mCACA,mCACA,uCAGJ,+BACGwJ,EAAgBxP,MAAM,EAAG,IAAIC,KAAI,SAAAyP,GAAkB,IAEhD3G,EAQE2G,EARF3G,KACAiJ,EAOEtC,EAPFsC,YACAC,EAMEvC,EANFuC,QACAC,EAKExC,EALFwC,SACAvC,EAIED,EAJFC,kBACAwC,EAGEzC,EAHFyC,oBACA1B,EAEEf,EAFFe,KACAa,EACE5B,EADF4B,QAGF,OACE,wBAAI/R,IAAG,0BAAqBwJ,IAC1B,4BACGlB,IAAc,IAAPkB,GAAagH,OAAO,OAE9B,4BACE,kBAAC,GAAD,CAAaU,KAAMA,IADrB,IAC+Ba,GAE/B,4BACGU,EAAYlC,QAAQ,GADvB,IAC4BqC,EAAoBrC,QAAQ,GADxD,KAGA,4BACGmC,GAEH,wBACErR,UAAWG,IACTH,EAAW,CAAE,YAAa+O,GL3EZ,OK8EM,IAApBA,GAAyBG,QAAQ,GALrC,KAOA,6BACe,IAAXoC,GAAgBpC,QAAQ,GAD5B,e,GAvE4B7O,iB,+PAAvB6Q,G,YACA,CACjBlR,UAAWM,YAAEC,OACbqO,gBAAiBtO,YAAEiI,QACjBjI,YAAE0H,MAAM,CACNG,KAAM7H,YAAEqH,OACRyJ,YAAa9Q,YAAEqH,OACf0J,QAAS/Q,YAAEqH,OACX2J,SAAUhR,YAAEqH,OACZoH,kBAAmBzO,YAAEqH,OACrB4J,oBAAqBjR,YAAEqH,OACvBkI,KAAMvP,YAAEC,OACRmQ,QAASpQ,YAAEC,Y,IAZE2Q,G,eAiBG,CACpBlR,UAAW,GACX4O,gBAAiB,K,ICrBA4C,G,6RAmBV,MAC+BvR,KAAKC,MAAnCF,EADD,EACCA,UAAWgR,EADZ,EACYA,eAEnB,OACE,kBAACnH,EAAA,EAAD,CAAK7J,UAAWG,IAAWH,EAAW,eAAgB,cAEnDgR,EAAe5R,MAAM,EAAG,GAAGC,KAAI,SAAAoS,GAAiB,IACvCf,EAAwDe,EAAxDf,QAASH,EAA+CkB,EAA/ClB,eAAgBC,EAA+BiB,EAA/BjB,eAAgBrI,EAAesJ,EAAftJ,KAAM0H,EAAS4B,EAAT5B,KAEvD,OACE,kBAAC/F,EAAA,EAAD,CAAK4H,GAAG,IAAI/S,IAAG,yBAAoBwJ,IACjC,yBAAKnI,UAAU,iEACb,kBAAC,GAAD,CAAa6P,KAAMA,IACnB,yBAAK7P,UAAU,iBACb,yBAAKA,UAAU,4BACZ0Q,GAEH,yBAAK1Q,UAAU,YACZuQ,EAAerB,QAAQ,GACxB,0BAAMlP,UAAU,mBAAhB,KACCwQ,EAAetB,QAAQ,IAE1B,yBAAKlP,UAAU,QACZiH,IAAc,IAAPkB,GAAagH,OAAO,2B,GA1CF9O,iB,o0BAAzBmR,G,YACA,CACjBxR,UAAWM,YAAEC,OACbyQ,eAAgB1Q,YAAEiI,QAChBjI,YAAE0H,MAAM,CACN6H,KAAMvP,YAAEC,OACRmQ,QAASpQ,YAAEC,OACXgQ,eAAgBjQ,YAAEqH,OAClB6I,eAAgBlQ,YAAEqH,OAClBQ,KAAM7H,YAAEqH,Y,IATK6J,G,eAcG,CACpBxR,UAAW,GACXgR,eAAgB,KCTb,IAEMW,GAAY,CACvB,CAAEC,SAAU,iBAAkB9D,IAAK,WAAYC,MAAO,cAGnC8D,G,0LASnB,WAAY3R,GAAO,yBACjB,cAAMA,GADW,kDAmBM,gCAAA6C,EAAA,6DACjBpE,EAAMqC,EAAa/C,IAAIuC,GACvBwN,EAAQhN,EAAa/C,IAAIwC,GAFR,kBAIYoN,GAAQiE,6BAA6BH,GAAWhT,EAAKqP,GAJjE,OAIf+D,EAJe,OAMrB,EAAK/I,SAAS,CAAEtC,SAAS,IACzB,EAAKsC,SAAS,CACZoF,UAAW2D,EAAmB1S,KAAI,SAAC2S,EAAkBxL,GAAQ,MACzBwL,EAAiBzW,KAA3C0W,EADmD,EACnDA,OAAQC,EAD2C,EAC3CA,MAAOrB,EADoC,EACpCA,OAEvB,WACEG,eAAgBkB,EAAM3W,KACtBqT,gBAAiBqD,EAAO1W,KACxBsV,UACGc,GAAUnL,OAGjBO,YAAaE,MACbkL,YAAY,EACZzL,SAAS,IApBU,kDAuBrBqE,QAAQC,MAAR,MAEA,EAAKhC,SAAS,CACZmJ,YAAY,EACZzL,SAAS,EACTK,YAAaE,QA5BM,2DAjBvB,EAAKmC,MAAQ,CACXgF,UAAW,GACX+D,YAAY,EACZpL,iBAAawC,EACb7C,SAAS,GANM,E,4JAWXzG,KAAKmS,yB,OACXnS,KAAKmH,SAAWC,YAAYpH,KAAKmS,uBA3BR,K,0IA+BzB7K,cAActH,KAAKmH,Y,+BAoCZ,IACCpH,EAAcC,KAAKC,MAAnBF,UADD,EAEiDC,KAAKmJ,MAArDgF,EAFD,EAECA,UAAWrH,EAFZ,EAEYA,YAAaoL,EAFzB,EAEyBA,WAAYzL,EAFrC,EAEqCA,QAE5C,OACE,yBAAK1G,UAAWG,IAAWH,EAAW,YACnCmS,GACC,yBAAKnS,UAAU,aACb,0BAAMA,UAAU,mCAChB,mEACqC,SADrC,8BAC2E,IACzE,uBAAGoL,KAAK,cAAR,YAFF,MAOHgD,EAAU/O,KAAI,SAAAgT,GAAY,IAEvBzD,EAMEyD,EANFzD,gBACAoC,EAKEqB,EALFrB,eACAH,EAIEwB,EAJFxB,OACAe,EAGES,EAHFT,SACA9D,EAEEuE,EAFFvE,IACAC,EACEsE,EADFtE,KAGF,OACE,kBAACpF,EAAA,EAAD,CAAM3I,UAAU,OAAOrB,IAAG,UAAKmP,EAAL,YAAYC,IACpC,yBAAK/N,UAAU,qBACb,+BAAQ4R,IAGV,kBAAChJ,EAAA,EAAD,KACE,kBAACiB,EAAA,EAAD,CAAK7J,UAAU,gBACb,kBAAC8J,EAAA,EAAD,CAAKC,GAAG,KACN,kBAAC,GAAD,CACEiH,eAAgBA,EAChBpC,gBAAiBA,EACjBiC,OAAQA,KAGZ,kBAAC/G,EAAA,EAAD,CAAKC,GAAG,KACN,kBAAC,GAAD,CACE6E,gBAAiBA,OAKzB,kBAAC0D,GAAA,EAAD,CAAYtS,UAAU,uBACpB,kBAAC,GAAD,CAAkBgR,eAAgBA,SAM1C,yBAAKhR,UAAU,8BACb,kBAAC,GAAD,CACE+G,YAAaA,EACbG,eA5HoB0G,KA6HpBlH,QAASA,U,GAxHgBrG,iB,+PAAhBwR,G,YACA,CACjB7R,UAAWM,YAAEC,S,IAFIsR,G,eAKG,CACpB7R,UAAW,KCrBR,IAEcuS,G,wSASC,WAClBtS,KAAKmH,SAAWC,aAAY,kBAAM,EAAKC,gBAZhB,O,6CAgBvBC,cAActH,KAAKmH,Y,+BAGZ,IACCpH,EAAcC,KAAKC,MAAnBF,UAEFwS,EAAMvL,MACNwL,EAAOD,EAAIrD,OAAO,iBAClBhH,EAAOqK,EAAIrD,OAAO,QAExB,OACE,yBAAKnP,UAAWG,IAAWH,EAAW,eAAgB,MAAO,OAAQ,yBACnE,yBAAKA,UAAU,cAAcmI,GAC7B,yBAAKnI,UAAU,cAAcyS,Q,GA3BcpS,iB,+PAA9BkS,G,YACA,CACjBvS,UAAWM,YAAEC,S,IAFIgS,G,eAKG,CACpBvS,UAAW,K,ICJM0S,G,6RASV,IACC1S,EAAcC,KAAKC,MAAnBF,UAER,OACE,yBAAKA,UAAWG,IAAWH,IACzB,kBAAC,GAAD,MACA,kBAAC6J,EAAA,EAAD,CAAK7J,UAAU,gBACb,kBAAC8J,EAAA,EAAD,CAAK4H,GAAG,IAAI1R,UAAU,QACpB,kBAAC,GAAD,OAEF,kBAAC8J,EAAA,EAAD,CAAK4H,GAAG,IAAI1R,UAAU,QACpB,kBAAC,GAAD,a,GApB0BK,iB,IAAjBqS,G,YACA,CACjB1S,UAAWM,YAAEC,S,IAFImS,G,eAKG,CACpB1S,UAAW,K,mRCTR,IAAM2S,GACL,YADKA,GAEJ,aAGYC,G,wLASnB,WAAY1S,GAAO,yBACjB,cAAMA,GADW,sBAKT,SAAA3B,GACRsU,SAASC,gBAAgB9S,UAAYzB,EACrCyC,EAAaU,IAAIf,EAAgBpC,GAEjC,EAAK+I,iBATY,iCAYE,kBACnBuL,SAASC,gBAAgB9S,YAAc2S,MAXvC,EAAKI,QAAU,EAAKA,QAAQnU,KAAb,QAFE,E,6CAgBV,WACCoB,EAAcC,KAAKC,MAAnBF,UAEFgT,EAAqB/S,KAAK+S,qBAEhC,OACE,oCACE,kBAAC/I,GAAA,EAAD,CAAOjK,UAAU,QAAjB,UACA,kBAACiT,GAAA,EAAD,CAAajT,UAAWG,IAAWH,IACjC,kBAACuK,GAAA,EAAD,CACEqB,QAAS,kBAAM,EAAKmH,QAAQJ,KAC5BnI,MAAOwI,EAAqB,UAAY,aAF1C,QAMA,kBAACzI,GAAA,EAAD,CACEqB,QAAS,kBAAM,EAAKmH,QAAQJ,KAC5BnI,MAAOwI,EAAqB,YAAc,WAF5C,e,GAxCyC3S,iB,IAA9BuS,G,YACA,CACjB5S,UAAWM,YAAEC,S,IAFIqS,G,eAKG,CACpB5S,UAAW,K,uRCTMkT,G,wLAUnB,WAAYhT,GAAO,yBACjB,cAAMA,GADW,uBAgBR,kBAAM,EAAKoH,iBAhBH,kCAkBG,SAAA3I,GAAG,OACvBqC,EAAa/C,IAAIU,MAnBA,yBAsBN,WAAM,IACTwU,EAAS,EAAK/J,MAAd+J,KACR,EAAKnK,SAAS,CAAEmK,MAAOA,OAtBvB,EAAK/J,MAAQ,CACX+J,MAAM,GAHS,E,wDAQjBjU,OAAOkU,iBAAiB,UAAWnT,KAAKoT,Y,6CAIxCnU,OAAOoU,oBAAoB,UAAWrT,KAAKoT,Y,+BAepC,MACgCpT,KAAKC,MAApCF,EADD,EACCA,UAAWuT,EADZ,EACYA,gBACXJ,EAASlT,KAAKmJ,MAAd+J,KACFK,EAAavS,KAAKM,UAAUtB,KAAKwT,oBAAoBF,IAE3D,OACE,yBAAKvT,UAAWG,IAAWH,IACzB,2BACE,kBAACuK,GAAA,EAAD,CAAQC,MAAM,UAAUoB,QAAS3L,KAAKyT,YAClCP,EAAgB,OAAT,OADX,uBAIF,uBAAGnT,UAAU,SAAb,2CACCmT,GACC,kBAAC,KAAD,CAAmBQ,SAAS,OAAOC,MAAOC,WAAS7T,UAAU,QAC1DwT,Q,GApDwCnT,iB,+PAAhC6S,G,YACA,CACjBlT,UAAWM,YAAEC,OACbgT,gBAAiBjT,YAAEwT,MAAMlT,GAAmB8J,a,IAH3BwI,G,eAMG,CACpBlT,UAAW,K,ICTM+T,G,qWAUH,WAAM,IACZR,EAAoB,EAAKrT,MAAzBqT,gBACRvS,EAAagT,cAAcT,M,+CAGpB,IACCvT,EAAcC,KAAKC,MAAnBF,UAER,OACE,yBAAKA,UAAWG,IAAWH,IACzB,2BACE,kBAACuK,GAAA,EAAD,CAAQC,MAAM,UAAUoB,QAAS3L,KAAK+T,eAAtC,iCAIF,uBAAGhU,UAAU,SAAb,8C,GAzB+CK,iB,+PAAlC0T,G,YACA,CACjB/T,UAAWM,YAAEC,OACbgT,gBAAiBjT,YAAEwT,MAAM9X,OAAO6D,KAAKkB,IAAc2J,a,IAHlCqJ,G,eAMG,CACpB/T,UAAW,K,ICcMiU,G,wLASnB,WAAY/T,GAAO,yBACjB,cAAMA,GADW,8BAKD,iBAAO,CACvBgU,uBAAmB3K,EACnB4K,gBAAiBnT,EAAa/C,IAAIuC,GAClC6P,aAAcrP,EAAa/C,IAAIwC,OARd,iCAWE,SAAAqI,GACnB,EAAKE,SAAS,CAAEmL,gBAAiBrL,EAAMG,OAAO5K,WAZ7B,8DAeC,WAAMyK,GAAN,eAAA/F,EAAA,6DAClB+F,EAAMI,iBACEiL,EAAoB,EAAK/K,MAAzB+K,gBAFU,kBAKNtG,GAAQuG,WAAWD,GALb,yCAMd,EAAKnL,SAAS,CAAEkL,mBAAmB,IACnClT,EAAaU,IAAIlB,EAAiB2T,GAPpB,0BAUhB,EAAKnL,SAAS,CAAEkL,mBAAmB,IAVnB,kDAYhB,EAAKlL,SAAS,CAAEkL,mBAAmB,IAZnB,0DAfD,qFA+BD,SAAAlG,GAChB,EAAKhF,SAAS,CAAEqH,aAAcrC,IAC9BhN,EAAaU,IAAIjB,EAAmBuN,MAjCnB,4CAoCa,WAC9B,EAAKhF,SAAS,EAAKqL,mBACnBrT,EAAasT,UApCb,EAAKlL,MAAQ,EAAKiL,kBAFD,E,6CAyCV,WACCrU,EAAcC,KAAKC,MAAnBF,UADD,EAEsDC,KAAKmJ,MAA1D8K,EAFD,EAECA,kBAAmBC,EAFpB,EAEoBA,gBAAiB9D,EAFrC,EAEqCA,aAE5C,OACE,yBAAKrQ,UAAWG,IAAWH,IACzB,wCAEA,kBAAC6J,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAG,KACN,kBAACpB,EAAA,EAAD,CAAM3I,UAAU,QACd,kBAACuU,GAAA,EAAD,KACE,wBAAIvU,UAAU,OAAd,WAEF,kBAAC4I,EAAA,EAAD,KACE,kBAAC,GAAD,MAEA,6BAEA,2BACE,kBAAC2B,GAAA,EAAD,CACEC,MAAM,SACNoB,QAAS3L,KAAKuU,+BAFhB,2BAOF,uBAAGxU,UAAU,SAAb,mFAQR,kBAAC6J,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAG,KACN,kBAACpB,EAAA,EAAD,CAAM3I,UAAU,QACd,kBAACuU,GAAA,EAAD,KACE,wBAAIvU,UAAU,OAAd,QAEF,kBAAC4I,EAAA,EAAD,KACE,kBAAC,GAAD,CAAyB2K,gBAAiB7S,IAE1C,6BAEA,kBAAC,GAAD,CAA2B6S,gBAAiB7S,OAKlD,kBAACoJ,EAAA,EAAD,CAAKC,GAAG,KACN,kBAACpB,EAAA,EAAD,CAAM3I,UAAU,QACd,kBAACuU,GAAA,EAAD,KACE,wBAAIvU,UAAU,OAAd,YAEF,kBAAC4I,EAAA,EAAD,KACE,kBAACc,GAAA,EAAD,CAAMC,SAAU1J,KAAKwU,mBACnB,kBAACzK,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAOC,IAAI,eAAX,oBACA,kBAACC,GAAA,EAAD,CACEC,KAAK,OACL5K,GAAG,cACHQ,UAAWG,IACT,CACE,WAAY+T,EACZ,cAAoC,IAAtBA,IAGlB7J,SAAUpK,KAAKyU,mBACfrW,MAAO8V,KAGX,kBAAC5J,GAAA,EAAD,CAAQC,MAAM,UAAUJ,KAAK,UAA7B,yBAGF,6BAEA,kBAACJ,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAOjK,UAAU,QAAjB,kBACA,kBAACiT,GAAA,EAAD,KACE,kBAAC1I,GAAA,EAAD,CACEC,MAAwB,KAAjB6F,EAAsB,UAAY,YACzCzE,QAAS,kBAAM,EAAK+I,gBAAgB,MAFtC,QAMA,kBAACpK,GAAA,EAAD,CACEC,MAAwB,MAAjB6F,EAAuB,UAAY,YAC1CzE,QAAS,kBAAM,EAAK+I,gBAAgB,OAFtC,KAMA,kBAACpK,GAAA,EAAD,CACEC,MAAwB,MAAjB6F,EAAuB,UAAY,YAC1CzE,QAAS,kBAAM,EAAK+I,gBAAgB,OAFtC,gB,GA/IkBtU,iBCpBvB,SAASuU,KACtB,OACE,kBAAC,IAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,MAEA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,aACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,KACV,kBAAC,GAAD,U,IDSSb,G,YACA,CACjBjU,UAAWM,YAAEC,S,IAFI0T,G,eAKG,CACpBjU,UAAW,KEzBf+U,IAASC,OACP,kBAACJ,GAAD,MACA/B,SAASoC,eAJI","file":"js/app.b996d80b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([515,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": 40,\n\t\"./af.js\": 40,\n\t\"./ar\": 41,\n\t\"./ar-dz\": 42,\n\t\"./ar-dz.js\": 42,\n\t\"./ar-kw\": 43,\n\t\"./ar-kw.js\": 43,\n\t\"./ar-ly\": 44,\n\t\"./ar-ly.js\": 44,\n\t\"./ar-ma\": 45,\n\t\"./ar-ma.js\": 45,\n\t\"./ar-sa\": 46,\n\t\"./ar-sa.js\": 46,\n\t\"./ar-tn\": 47,\n\t\"./ar-tn.js\": 47,\n\t\"./ar.js\": 41,\n\t\"./az\": 48,\n\t\"./az.js\": 48,\n\t\"./be\": 49,\n\t\"./be.js\": 49,\n\t\"./bg\": 50,\n\t\"./bg.js\": 50,\n\t\"./bm\": 51,\n\t\"./bm.js\": 51,\n\t\"./bn\": 52,\n\t\"./bn.js\": 52,\n\t\"./bo\": 53,\n\t\"./bo.js\": 53,\n\t\"./br\": 54,\n\t\"./br.js\": 54,\n\t\"./bs\": 55,\n\t\"./bs.js\": 55,\n\t\"./ca\": 56,\n\t\"./ca.js\": 56,\n\t\"./cs\": 57,\n\t\"./cs.js\": 57,\n\t\"./cv\": 58,\n\t\"./cv.js\": 58,\n\t\"./cy\": 59,\n\t\"./cy.js\": 59,\n\t\"./da\": 60,\n\t\"./da.js\": 60,\n\t\"./de\": 61,\n\t\"./de-at\": 62,\n\t\"./de-at.js\": 62,\n\t\"./de-ch\": 63,\n\t\"./de-ch.js\": 63,\n\t\"./de.js\": 61,\n\t\"./dv\": 64,\n\t\"./dv.js\": 64,\n\t\"./el\": 65,\n\t\"./el.js\": 65,\n\t\"./en-SG\": 66,\n\t\"./en-SG.js\": 66,\n\t\"./en-au\": 67,\n\t\"./en-au.js\": 67,\n\t\"./en-ca\": 68,\n\t\"./en-ca.js\": 68,\n\t\"./en-gb\": 69,\n\t\"./en-gb.js\": 69,\n\t\"./en-ie\": 70,\n\t\"./en-ie.js\": 70,\n\t\"./en-il\": 71,\n\t\"./en-il.js\": 71,\n\t\"./en-nz\": 72,\n\t\"./en-nz.js\": 72,\n\t\"./eo\": 73,\n\t\"./eo.js\": 73,\n\t\"./es\": 74,\n\t\"./es-do\": 75,\n\t\"./es-do.js\": 75,\n\t\"./es-us\": 76,\n\t\"./es-us.js\": 76,\n\t\"./es.js\": 74,\n\t\"./et\": 77,\n\t\"./et.js\": 77,\n\t\"./eu\": 78,\n\t\"./eu.js\": 78,\n\t\"./fa\": 79,\n\t\"./fa.js\": 79,\n\t\"./fi\": 80,\n\t\"./fi.js\": 80,\n\t\"./fo\": 81,\n\t\"./fo.js\": 81,\n\t\"./fr\": 82,\n\t\"./fr-ca\": 83,\n\t\"./fr-ca.js\": 83,\n\t\"./fr-ch\": 84,\n\t\"./fr-ch.js\": 84,\n\t\"./fr.js\": 82,\n\t\"./fy\": 85,\n\t\"./fy.js\": 85,\n\t\"./ga\": 86,\n\t\"./ga.js\": 86,\n\t\"./gd\": 87,\n\t\"./gd.js\": 87,\n\t\"./gl\": 88,\n\t\"./gl.js\": 88,\n\t\"./gom-latn\": 89,\n\t\"./gom-latn.js\": 89,\n\t\"./gu\": 90,\n\t\"./gu.js\": 90,\n\t\"./he\": 91,\n\t\"./he.js\": 91,\n\t\"./hi\": 92,\n\t\"./hi.js\": 92,\n\t\"./hr\": 93,\n\t\"./hr.js\": 93,\n\t\"./hu\": 94,\n\t\"./hu.js\": 94,\n\t\"./hy-am\": 95,\n\t\"./hy-am.js\": 95,\n\t\"./id\": 96,\n\t\"./id.js\": 96,\n\t\"./is\": 97,\n\t\"./is.js\": 97,\n\t\"./it\": 98,\n\t\"./it-ch\": 99,\n\t\"./it-ch.js\": 99,\n\t\"./it.js\": 98,\n\t\"./ja\": 100,\n\t\"./ja.js\": 100,\n\t\"./jv\": 101,\n\t\"./jv.js\": 101,\n\t\"./ka\": 102,\n\t\"./ka.js\": 102,\n\t\"./kk\": 103,\n\t\"./kk.js\": 103,\n\t\"./km\": 104,\n\t\"./km.js\": 104,\n\t\"./kn\": 105,\n\t\"./kn.js\": 105,\n\t\"./ko\": 106,\n\t\"./ko.js\": 106,\n\t\"./ku\": 107,\n\t\"./ku.js\": 107,\n\t\"./ky\": 108,\n\t\"./ky.js\": 108,\n\t\"./lb\": 109,\n\t\"./lb.js\": 109,\n\t\"./lo\": 110,\n\t\"./lo.js\": 110,\n\t\"./lt\": 111,\n\t\"./lt.js\": 111,\n\t\"./lv\": 112,\n\t\"./lv.js\": 112,\n\t\"./me\": 113,\n\t\"./me.js\": 113,\n\t\"./mi\": 114,\n\t\"./mi.js\": 114,\n\t\"./mk\": 115,\n\t\"./mk.js\": 115,\n\t\"./ml\": 116,\n\t\"./ml.js\": 116,\n\t\"./mn\": 117,\n\t\"./mn.js\": 117,\n\t\"./mr\": 118,\n\t\"./mr.js\": 118,\n\t\"./ms\": 119,\n\t\"./ms-my\": 120,\n\t\"./ms-my.js\": 120,\n\t\"./ms.js\": 119,\n\t\"./mt\": 121,\n\t\"./mt.js\": 121,\n\t\"./my\": 122,\n\t\"./my.js\": 122,\n\t\"./nb\": 123,\n\t\"./nb.js\": 123,\n\t\"./ne\": 124,\n\t\"./ne.js\": 124,\n\t\"./nl\": 125,\n\t\"./nl-be\": 126,\n\t\"./nl-be.js\": 126,\n\t\"./nl.js\": 125,\n\t\"./nn\": 127,\n\t\"./nn.js\": 127,\n\t\"./pa-in\": 128,\n\t\"./pa-in.js\": 128,\n\t\"./pl\": 129,\n\t\"./pl.js\": 129,\n\t\"./pt\": 130,\n\t\"./pt-br\": 131,\n\t\"./pt-br.js\": 131,\n\t\"./pt.js\": 130,\n\t\"./ro\": 132,\n\t\"./ro.js\": 132,\n\t\"./ru\": 133,\n\t\"./ru.js\": 133,\n\t\"./sd\": 134,\n\t\"./sd.js\": 134,\n\t\"./se\": 135,\n\t\"./se.js\": 135,\n\t\"./si\": 136,\n\t\"./si.js\": 136,\n\t\"./sk\": 137,\n\t\"./sk.js\": 137,\n\t\"./sl\": 138,\n\t\"./sl.js\": 138,\n\t\"./sq\": 139,\n\t\"./sq.js\": 139,\n\t\"./sr\": 140,\n\t\"./sr-cyrl\": 141,\n\t\"./sr-cyrl.js\": 141,\n\t\"./sr.js\": 140,\n\t\"./ss\": 142,\n\t\"./ss.js\": 142,\n\t\"./sv\": 143,\n\t\"./sv.js\": 143,\n\t\"./sw\": 144,\n\t\"./sw.js\": 144,\n\t\"./ta\": 145,\n\t\"./ta.js\": 145,\n\t\"./te\": 146,\n\t\"./te.js\": 146,\n\t\"./tet\": 147,\n\t\"./tet.js\": 147,\n\t\"./tg\": 148,\n\t\"./tg.js\": 148,\n\t\"./th\": 149,\n\t\"./th.js\": 149,\n\t\"./tl-ph\": 150,\n\t\"./tl-ph.js\": 150,\n\t\"./tlh\": 151,\n\t\"./tlh.js\": 151,\n\t\"./tr\": 152,\n\t\"./tr.js\": 152,\n\t\"./tzl\": 153,\n\t\"./tzl.js\": 153,\n\t\"./tzm\": 154,\n\t\"./tzm-latn\": 155,\n\t\"./tzm-latn.js\": 155,\n\t\"./tzm.js\": 154,\n\t\"./ug-cn\": 156,\n\t\"./ug-cn.js\": 156,\n\t\"./uk\": 157,\n\t\"./uk.js\": 157,\n\t\"./ur\": 158,\n\t\"./ur.js\": 158,\n\t\"./uz\": 159,\n\t\"./uz-latn\": 160,\n\t\"./uz-latn.js\": 160,\n\t\"./uz.js\": 159,\n\t\"./vi\": 161,\n\t\"./vi.js\": 161,\n\t\"./x-pseudo\": 162,\n\t\"./x-pseudo.js\": 162,\n\t\"./yo\": 163,\n\t\"./yo.js\": 163,\n\t\"./zh-cn\": 164,\n\t\"./zh-cn.js\": 164,\n\t\"./zh-hk\": 165,\n\t\"./zh-hk.js\": 165,\n\t\"./zh-tw\": 166,\n\t\"./zh-tw.js\": 166\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 204;","import React, { PureComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\nexport default class MainNav extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  render() {\n    const { className } = this.props;\n    return (\n      <div className={classNames(className, 'header')}>\n        <Link to=\"/\"><span className=\"fas fa-home\" /></Link>\n        <Link to=\"/settings\"><span className=\"fas fa-cog\" /></Link>\n      </div>\n\n    );\n  }\n}\n","export const ANGULAR_LOCAL_STORAGE_PREFIX = 'ngStorage-';\nexport const WEATHER_KEY_KEY = 'weatherKey';\nexport const WEATHER_UNITS_KEY = 'weatherUnits';\nexport const BUS_ROUTE_STOP_TAGS_KEY = 'routeStopTags';\nexport const HTML_CLASS_KEY = 'htmlClass';\nexport const ALL_SETTINGS_KEYS = [\n  WEATHER_KEY_KEY,\n  WEATHER_UNITS_KEY,\n  BUS_ROUTE_STOP_TAGS_KEY,\n  HTML_CLASS_KEY,\n].reduce(\n  // include legacy keys\n  (fullArray, key) => ([...fullArray, key, `${ANGULAR_LOCAL_STORAGE_PREFIX}${key}`]),\n  [],\n);\n\nexport const SAMPLE_DATA = {\n  [BUS_ROUTE_STOP_TAGS_KEY]: ['14|5565', '67|6208', '27|3930', '12|7552'],\n};\n\nexport default class LocalStorage {\n  static get(key) {\n    return JSON.parse((\n      window.localStorage.getItem(key) ||\n      // legacy support\n      window.localStorage.getItem(`${ANGULAR_LOCAL_STORAGE_PREFIX}${key}`)\n    )) || '';\n  }\n\n  static set(key, val) {\n    window.localStorage.setItem(key, JSON.stringify(val));\n\n    // window.addEventListener('storage') doesn't fire on the current tab by default. make it.\n    // https://gist.github.com/TakashiSasaki/4282903\n    window.dispatchEvent(new Event('storage'));\n  }\n\n  static setSampleData(key) {\n    this.set(key, SAMPLE_DATA[key]);\n  }\n\n  static dump() {\n    ALL_SETTINGS_KEYS.forEach(key => window.localStorage.removeItem(key));\n  }\n\n  static getBusStopsFromLocalStorage() {\n    return this.get(BUS_ROUTE_STOP_TAGS_KEY) || [];\n  }\n\n  static addBusStopToLocalStorage(routeStopTag) {\n    const routeStopTags = this.getBusStopsFromLocalStorage();\n    this.set(\n      BUS_ROUTE_STOP_TAGS_KEY,\n      [...new Set([...routeStopTags, routeStopTag])], // no duplicates\n    );\n  }\n\n  static removeBusStopFromLocalStorage(routeStopTag) {\n    const routeStopTags = this.getBusStopsFromLocalStorage();\n    this.set(\n      BUS_ROUTE_STOP_TAGS_KEY,\n      routeStopTags.filter(tag => tag !== routeStopTag),\n    );\n  }\n}\n","import axios from 'axios';\nimport X2JS from 'x2js';\nimport qs from 'qs';\n\n\nexport const URL = 'http://webservices.nextbus.com/service/publicXMLFeed';\n\nexport const getUserPosition = options => (\n  new Promise((resolve, reject) => {\n    navigator.geolocation.getCurrentPosition(resolve, reject, options);\n  })\n);\n\nexport default class NextBus {\n  static async getPredictions(routeStopTags) {\n    const response = await axios.get(URL, {\n      params: {\n        command: 'predictionsForMultiStops',\n        a: 'sf-muni',\n        stops: routeStopTags,\n        useShortTitles: true,\n      },\n      paramsSerializer: params => qs.stringify(params, { arrayFormat: 'repeat' }),\n    });\n\n    const data = this.parsePredictionsXMLResponse(response.data);\n\n    return new Promise((resolve, reject) => {\n      const errorText = data?.body?.Error?.__text;\n      if (errorText) { reject(new Error(errorText)); }\n\n      resolve(data);\n    });\n  }\n\n  static async getRouteConfig() {\n    const response = await axios.get(URL, {\n      params: {\n        command: 'routeConfig',\n        a: 'sf-muni',\n        useShortTitles: true,\n      },\n    });\n\n    const data = this.parseRouteConfigXMLResponse(response.data);\n\n    return new Promise((resolve, reject) => {\n      const errorText = data?.body?.Error?.__text;\n      if (errorText) { reject(new Error(errorText)); }\n\n      resolve(this.mergeRouteData(data.body.route));\n    });\n  }\n\n  static async getStopsNearMe(meters) {\n    const responses = await axios.all([\n      getUserPosition(),\n      this.getRouteConfig(),\n    ]);\n\n    const [geoLocation, routeConfig] = responses;\n\n    const currPosition = new google.maps.LatLng(\n      geoLocation.coords.latitude,\n      geoLocation.coords.longitude,\n    );\n\n    const stopResults = [];\n    routeConfig.forEach(route => {\n      route.direction.forEach(direction => {\n        direction.stop.forEach(stop => {\n          // Find stops that are within [meters] of the users position\n          const stopLatLng = new google.maps.LatLng(stop._lat, stop._lon);\n          const distance = google.maps.geometry.spherical\n            .computeDistanceBetween(currPosition, stopLatLng);\n\n          if (distance <= meters) {\n            stopResults.push({\n              tag: route._tag,\n              title: route._title,\n\n              directionName: direction._name,\n              directionTitle: direction._title,\n\n              latLng: stopLatLng,\n\n              stopId: stop._stopId,\n              stopTag: stop._tag,\n              stopTitle: stop._title,\n            });\n          }\n        });\n      });\n    });\n\n    return stopResults;\n  }\n\n  static mergeRouteData = routeData => {\n    // The purpose of this fn is to merge stop data into direction data. this is necessary because\n    // the stops are direction unaware (inbound/outbound):\n    //\n    // routeData[0].direction[0].stop[0] = {\n    //   _tag: \"6932\"\n    // }\n    //\n    // becomes\n    //\n    // routeData[0].direction[0].stop[0] = {\n    //   _tag: \"6932\", _lat: \"37.123\", _stopId: \"12789\", _title: \"Mission\"\n    // }\n\n    routeData.forEach(route => {\n      // map the stop tags\n      const stopTags = {};\n      route.stop.forEach(stop => {\n        stopTags[stop._tag] = stop;\n      });\n\n      // there should be only 2 directions. inbound/outbound\n      route.direction.forEach(direction => {\n        direction.stop.forEach((stop, idx) => {\n          // replace the object with the one that has the full data\n          direction.stop[idx] = stopTags[stop._tag];\n        });\n      });\n    });\n    return routeData;\n  }\n\n  static async isValidStop(routeStopTag) {\n    try {\n      const response = await this.getPredictions([routeStopTag]);\n      return !!response?.body?.predictions;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  static parsePredictionsXMLResponse(xmlString) {\n    return new X2JS({\n      arrayAccessFormPaths: [\n        'body.predictions',\n        'body.predictions.direction.prediction',\n      ],\n    }).xml2js(xmlString);\n  }\n\n  static parseRouteConfigXMLResponse(xmlString) {\n    return new X2JS({\n      arrayAccessFormPaths: [\n        'body.route',\n      ],\n    }).xml2js(xmlString);\n  }\n\n  static getRouteStopTag(routeTag, stopTag) {\n    return `${routeTag}|${stopTag}`;\n  }\n\n  static splitRouteStopTag(routeStopTag) {\n    return routeStopTag.split('|');\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\nexport default class Loader extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    loading: T.bool,\n    small: T.bool,\n  };\n\n  static defaultProps = {\n    className: '',\n    loading: false,\n    small: false,\n  }\n\n  render() {\n    const { className, loading, small } = this.props;\n\n    if (!loading) { return null; }\n\n    return (\n      <div className={classNames(className, 'spinner', { 'spinner-small': small })}>\n        <div className=\"bounce1\" />\n        <div className=\"bounce2\" />\n        <div className=\"bounce3\" />\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport moment from 'moment';\nimport 'moment-precise-range-plugin';\nimport classNames from 'classnames';\n\nimport Loader from '../loader';\n\n\nexport const INTERVAL_MS = 1000;\n\nexport default class TimeSinceLastUpdated extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    lastUpdated: T.object, // a moment object\n    msUntilWarning: T.number,\n    loading: T.bool,\n  };\n\n  static defaultProps = {\n    className: '',\n    lastUpdated: null,\n    msUntilWarning: 60000, // 1min\n    loading: false,\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.forceUpdate(), INTERVAL_MS);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  getReadableTime = () => {\n    const { lastUpdated } = this.props;\n\n    const timeAgo = lastUpdated.preciseDiff(moment());\n\n    if (!timeAgo) { // timeText is empty if diff is 0\n      return 'Just now.';\n    }\n    return `${timeAgo} ago.`;\n  }\n\n  isOverdue = () => {\n    const { lastUpdated, msUntilWarning } = this.props;\n    return moment().diff(lastUpdated) >= msUntilWarning;\n  }\n\n  render() {\n    const { className, lastUpdated, loading } = this.props;\n\n    const overdue = this.isOverdue();\n\n    return (\n      <div className={classNames(className, 'time-since-last-updated')}>\n        <span className={classNames({ overdue })}>\n          {lastUpdated && this.getReadableTime()}\n        </span>\n        <Loader className=\"my-1 ml-auto\" loading={loading} small />\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\nexport default class StopInfo extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    prediction: T.shape({\n      direction: T.shape({\n        _title: T.string,\n      }),\n      _stopTitle: T.string,\n      _dirTitleBecauseNoPredictions: T.string,\n    }),\n  };\n\n  static defaultProps = {\n    className: '',\n    prediction: {},\n  }\n\n  render() {\n    const { className, prediction } = this.props;\n    const { direction, _dirTitleBecauseNoPredictions, _stopTitle } = prediction;\n\n    return (\n      <div className={classNames(className)}>\n        <div className=\"route-title\">\n          {direction?._title || _dirTitleBecauseNoPredictions}\n        </div>\n        <div className=\"stop-title\">\n          @{_stopTitle}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\nexport default class Times extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    predictionTimes: T.arrayOf(\n      T.shape({\n        _tripTag: T.string, // used to generate react `key`s\n        _affectedByLayover: T.string,\n        _minutes: T.string,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    predictionTimes: [],\n  }\n\n  render() {\n    const { className, predictionTimes } = this.props;\n\n    return (\n      <div className={classNames(className, 'prediction-times')}>\n        {predictionTimes.length ? (\n          <>\n            {predictionTimes.slice(0, 4).map((time, idx) => (\n              <span key={`${time._tripTag}`}>\n                <span\n                  className={classNames(\n                    'prediction-time',\n                    {\n                      'not-affected-by-layover': !time._affectedByLayover,\n                      'next-time': idx === 0,\n                      'other-time': idx !== 0,\n                    },\n                  )}\n                >\n                  {time._minutes === '0' ? 'Now' : time._minutes}\n                </span>\n                {idx !== (predictionTimes.length - 1) && ', '}\n              </span>\n            ))}\n          </>\n        ) : (\n          <span className=\"no-prediction-time\">None</span>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Card, CardBody } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport StopInfo from '../stop_info';\nimport Times from './times';\n\n\nexport default class Predictions extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    predictions: T.arrayOf(\n      T.shape({\n        _routeTag: T.string,\n        _stopTag: T.string, // used to generate react `key`s\n        direction: T.shape({\n          prediction: T.arrayOf(\n            T.shape({\n              _tripTag: T.string, // used to generate react `key`s\n              _affectedByLayover: T.string,\n              _minutes: T.string,\n            }),\n          ),\n        }),\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    predictions: [],\n  }\n\n  render() {\n    const { className, predictions } = this.props;\n\n    return (\n      <div className={classNames(className)}>\n        {predictions.map(prediction => {\n          const { _routeTag, _stopTag, direction } = prediction;\n          return (\n            <Card className=\"mb-2\" key={`${_routeTag}-${_stopTag}`}>\n              <CardBody className=\"d-flex align-items-center justify-content-between\">\n                <div className=\"route-tag\">\n                  {_routeTag}\n                </div>\n\n                <div className=\"right-container\">\n                  <Times predictionTimes={direction?.prediction} />\n                  <StopInfo prediction={prediction} />\n                </div>\n              </CardBody>\n            </Card>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Form, FormGroup, Row, Col, Button, Input, Label } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport NextBus from 'app/integrations/nextbus';\nimport LocalStorage from 'app/utils/local_storage';\n\n\nexport default class ManualAdd extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    onAddOrRemoveStop: T.func.isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      routeTag: '',\n      stopTag: '',\n      stopIsValid: undefined,\n    };\n  }\n\n  onChange = (event, field) => {\n    this.setState({ [field]: event.target.value });\n  }\n\n  validateAndAddStop = async event => {\n    event.preventDefault();\n    const { onAddOrRemoveStop } = this.props;\n    const { routeTag, stopTag } = this.state;\n    const routeStopTag = NextBus.getRouteStopTag(routeTag, stopTag);\n    this.setState({ stopIsValid: undefined });\n\n    if (await NextBus.isValidStop(routeStopTag)) {\n      this.setState({ stopIsValid: true });\n      LocalStorage.addBusStopToLocalStorage(routeStopTag);\n      onAddOrRemoveStop();\n      return;\n    }\n\n    this.setState({ stopIsValid: false });\n  }\n\n  render() {\n    const { className } = this.props;\n    const { routeTag, stopTag, stopIsValid } = this.state;\n\n    return (\n      <Form onSubmit={this.validateAndAddStop} className={classNames(className)}>\n        <Row>\n          <Col xs=\"6\">\n            <FormGroup>\n              <Label for=\"manual-add-route-tag\">Route Tag:</Label>\n              <Input\n                type=\"text\"\n                id=\"manual-add-route-tag\"\n                className={classNames(\n                  {\n                    'is-valid': stopIsValid,\n                    'is-invalid': stopIsValid === false,\n                  },\n                )}\n                onChange={e => this.onChange(e, 'routeTag')}\n                placeholder=\"12\"\n                value={routeTag}\n              />\n            </FormGroup>\n          </Col>\n          <Col xs=\"6\">\n            <FormGroup>\n              <Label for=\"manual-add-route-stop\">Stop Tag:</Label>\n              <Input\n                type=\"text\"\n                id=\"manual-add-route-stop\"\n                className={classNames(\n                  {\n                    'is-valid': stopIsValid,\n                    'is-invalid': stopIsValid === false,\n                  },\n                )}\n                onChange={e => this.onChange(e, 'stopTag')}\n                placeholder=\"5837\"\n                value={stopTag}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <div>\n          <Button color=\"primary\" type=\"submit\">Validate & Add Stop</Button>\n        </div>\n      </Form>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Alert, Form, Input, Label, Table } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport NextBus from 'app/integrations/nextbus';\nimport LocalStorage from 'app/utils/local_storage';\nimport Loader from 'app/components/loader';\n\n\nexport default class GeolocateAdd extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    onAddOrRemoveStop: T.func.isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      errMsg: undefined,\n      nearbyStops: [],\n    };\n  }\n\n  getNearbyStops = async event => {\n    const meters = event.target.value;\n    if (!meters) { return; }\n\n    this.setState({ loading: true });\n    try {\n      const nearbyStops = await NextBus.getStopsNearMe(meters);\n      this.setState({\n        loading: false,\n        errMsg: undefined,\n        nearbyStops,\n      });\n    } catch (e) {\n      console.error(e.message);\n      this.setState({\n        loading: false,\n        errMsg: e.message,\n      });\n    }\n  }\n\n  addStop = routeStopTag => {\n    const { onAddOrRemoveStop } = this.props;\n\n    LocalStorage.addBusStopToLocalStorage(routeStopTag);\n    onAddOrRemoveStop();\n  }\n\n  render() {\n    const { className } = this.props;\n    const { loading, errMsg, nearbyStops } = this.state;\n\n    return (\n      <>\n        <Alert color=\"danger\" fade={false}>\n          Warning: This {'won\\'t'} work if this app is hosted on http. See{' '}\n          <a\n            href=\"https://developers.google.com/web/updates/2016/04/geolocation-on-secure-contexts-only\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Geolocation API Removed from Unsecured Origins in Chrome 50\n          </a>. However, hosting this app on https causes a Mixed Content issue (https site\n          requesting {'NextBus\\'s'} http-only traffic).\n        </Alert>\n\n        <Form className={classNames(className, 'mb-2')} inline>\n          <Label className=\"mr-2\">Find stops within</Label>\n          <Input type=\"select\" onChange={this.getNearbyStops}>\n            {/* Values are in meters */}\n            <option value=\"\">--Choose One--</option>\n            <option value=\"322\">1/5 mile</option>\n            <option value=\"402\">1/4 mile</option>\n            <option value=\"804\">1/2 mile</option>\n          </Input>\n        </Form>\n\n        {!!nearbyStops.length && (\n          <Table striped hover className=\"mt-4\">\n            <thead>\n              <tr>\n                <th>Route</th>\n                <th>Direction</th>\n                <th>Stop</th>\n              </tr>\n            </thead>\n            <tbody>\n              {nearbyStops.map(nearbyStop => {\n                const { tag, stopTag, title, directionTitle, stopTitle } = nearbyStop;\n                const routeStopTag = NextBus.getRouteStopTag(tag, stopTag);\n\n                return (\n                  <tr\n                    className=\"clickable\"\n                    key={routeStopTag}\n                    onClick={() => this.addStop(routeStopTag)}\n                  >\n                    <td>{title}</td>\n                    <td>{directionTitle}</td>\n                    <td>{stopTitle}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </Table>\n        )}\n\n        {loading && <Loader className=\"my-2\" />}\n        {errMsg && <div className=\"error-msg\">Error: {errMsg}</div>}\n      </>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport ManualAdd from './manual_add';\nimport GeolocateAdd from './geolocate_add';\n\n\nexport default class AddStopForm extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    toggleAddStopForm: T.func.isRequired,\n    onAddOrRemoveStop: T.func.isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: '1',\n    };\n  }\n\n  toggle = tab => {\n    const { activeTab } = this.state;\n    if (activeTab !== tab) {\n      this.setState({\n        activeTab: tab,\n      });\n    }\n  }\n\n  render() {\n    const { className, toggleAddStopForm, onAddOrRemoveStop } = this.props;\n    const { activeTab } = this.state;\n\n    return (\n      <div className={classNames(className, 'add-form', 'mb-2')}>\n        <Nav tabs>\n          <NavItem>\n            <NavLink\n              className={classNames('clickable', { active: activeTab === '1' })}\n              onClick={() => this.toggle('1')}\n            >\n              Geolocation\n            </NavLink>\n          </NavItem>\n          <NavItem>\n            <NavLink\n              className={classNames('clickable', { active: activeTab === '2' })}\n              onClick={() => this.toggle('2')}\n            >\n              Manual Input\n            </NavLink>\n          </NavItem>\n          <button type=\"button\" className=\"btn close-form\" onClick={toggleAddStopForm}>\n            <span className=\"fas fa-times\" />\n          </button>\n        </Nav>\n        <TabContent activeTab={activeTab}>\n          <TabPane tabId=\"1\">\n            <GeolocateAdd onAddOrRemoveStop={onAddOrRemoveStop} />\n          </TabPane>\n          <TabPane tabId=\"2\">\n            <ManualAdd onAddOrRemoveStop={onAddOrRemoveStop} />\n          </TabPane>\n        </TabContent>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Button } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport LocalStorage from 'app/utils/local_storage';\n\n\nconst buttonProps = {\n  className: 'mr-1',\n  size: 'xs',\n  color: 'secondary',\n  outline: true,\n};\n\nexport default class EditTogglers extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    showBusRemove: T.bool.isRequired,\n    toggleShowBusRemove: T.func.isRequired,\n    toggleAddStopForm: T.func.isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  render() {\n    const {\n      className,\n      showBusRemove,\n      toggleShowBusRemove,\n      toggleAddStopForm,\n    } = this.props;\n    const routeStopTags = LocalStorage.getBusStopsFromLocalStorage();\n\n    return (\n      <div className={classNames(className)}>\n        {!showBusRemove && (\n          <Button {...buttonProps} onClick={toggleAddStopForm}>\n            <span className=\"fas fa-plus\" />\n          </Button>\n        )}\n        {!!routeStopTags.length && (\n          <Button {...buttonProps} onClick={toggleShowBusRemove}>\n            <span className=\"fas fa-pen\" />\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Button, Card, CardBody } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport NextBus from 'app/integrations/nextbus';\nimport LocalStorage from 'app/utils/local_storage';\n\n\nexport default class RouteStopRemoval extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    onAddOrRemoveStop: T.func.isRequired,\n  };\n\n  removeStop = (routeTag, stopTag) => {\n    const routeStopTag = NextBus.getRouteStopTag(routeTag, stopTag);\n    const { onAddOrRemoveStop } = this.props;\n\n    LocalStorage.removeBusStopFromLocalStorage(routeStopTag);\n    onAddOrRemoveStop();\n    this.forceUpdate();\n  }\n\n\n  render() {\n    const { className } = this.props;\n    const routeStopTags = LocalStorage.getBusStopsFromLocalStorage();\n\n    return (\n      <div className={classNames(className)}>\n        {routeStopTags.map(routeStopTag => {\n          const [routeTag, stopTag] = NextBus.splitRouteStopTag(routeStopTag);\n          return (\n            <Card className=\"mb-2\" key={`${routeTag}-${stopTag}`}>\n              <CardBody className=\"d-flex align-items-center justify-content-between\">\n                <div className=\"route-tag\">\n                  {routeTag}\n                </div>\n\n                <div className=\"right-container\">\n                  <Button\n                    color=\"danger\"\n                    className=\"remove-stop\"\n                    onClick={() => this.removeStop(routeTag, stopTag)}\n                    size=\"lg\"\n                  >\n                    Remove Stop\n                  </Button>\n                </div>\n              </CardBody>\n            </Card>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Card, CardBody } from 'reactstrap';\nimport moment from 'moment';\nimport classNames from 'classnames';\n\nimport LocalStorage from 'app/utils/local_storage';\nimport { WARNING_AFTER_N_MISSED_CALLS } from 'app/constants';\nimport NextBus from 'app/integrations/nextbus';\nimport TimeSinceLastUpdated from 'app/components/time_since_last_updated';\n\nimport Predictions from './predictions';\nimport AddStopForm from './add_stop_form';\nimport EditTogglers from './edit_togglers';\nimport RouteStopRemoval from './route_stop_removal';\n\n\nexport const CALL_INTERVAL = 10 * 1000;\nexport const MS_UNTIL_WARNING = CALL_INTERVAL * WARNING_AFTER_N_MISSED_CALLS;\n\nexport const sortPredictions = (routeStopTags, predictions = []) => {\n  const sortedList = [];\n  predictions.forEach(prediction => {\n    const routeStopTag = `${prediction._routeTag}|${prediction._stopTag}`;\n    sortedList[routeStopTags.indexOf(routeStopTag)] = prediction;\n  });\n  return sortedList;\n};\n\nexport default class Bus extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      predictions: [],\n      lastUpdated: undefined,\n      showAddStopForm: false,\n      showBusRemove: false,\n      loading: false,\n      errMsg: undefined,\n    };\n  }\n\n  async componentDidMount() {\n    await this.updateBusPredictions();\n    this.interval = setInterval(() => this.updateBusPredictions(), CALL_INTERVAL);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  toggleAddStopForm = () => {\n    const { showAddStopForm } = this.state;\n    this.setState({ showAddStopForm: !showAddStopForm });\n  }\n\n  onAddOrRemoveStop = async () => {\n    clearInterval(this.interval);\n    await this.updateBusPredictions();\n    this.interval = setInterval(this.updateBusPredictions, CALL_INTERVAL);\n  }\n\n  toggleShowBusRemove = () => {\n    const { showBusRemove } = this.state;\n    this.setState({ showBusRemove: !showBusRemove });\n  }\n\n  updateBusPredictions = async () => {\n    const routeStopTags = LocalStorage.getBusStopsFromLocalStorage();\n\n    // Don't send an empty request\n    if (!routeStopTags.length) { return; }\n\n    this.setState({ loading: true });\n    try {\n      const predictionResponse = await NextBus.getPredictions(routeStopTags);\n\n      this.setState({\n        predictions: sortPredictions(routeStopTags, predictionResponse.body.predictions),\n        loading: false,\n        lastUpdated: moment(),\n        errMsg: undefined,\n      });\n    } catch (e) {\n      console.error(e.message);\n      this.setState({\n        loading: false,\n        errMsg: e.message,\n        lastUpdated: moment(),\n      });\n    }\n  }\n\n  render() {\n    const { className } = this.props;\n    const {\n      predictions,\n      lastUpdated,\n      showAddStopForm,\n      showBusRemove,\n      loading,\n      errMsg,\n    } = this.state;\n\n    return (\n      <div className={classNames(className, 'bus')}>\n        {errMsg && <div className=\"error-msg\">Error: {errMsg}</div>}\n        {!errMsg && !predictions.length && (\n          <Card className=\"mb-2\">\n            <CardBody>\n              No bus stops added.\n            </CardBody>\n          </Card>\n        )}\n\n        <div className=\"predictions\">\n          {showBusRemove ? (\n            <RouteStopRemoval onAddOrRemoveStop={this.onAddOrRemoveStop} />\n          ) : (\n            <Predictions\n              predictions={predictions}\n            />\n          )}\n        </div>\n\n        {showAddStopForm && (\n          <AddStopForm\n            toggleAddStopForm={this.toggleAddStopForm}\n            onAddOrRemoveStop={this.onAddOrRemoveStop}\n          />\n        )}\n\n        {!showAddStopForm && (\n          <div className=\"d-flex align-items-start justify-content-between\">\n            <EditTogglers\n              toggleAddStopForm={this.toggleAddStopForm}\n              showBusRemove={showBusRemove}\n              toggleShowBusRemove={this.toggleShowBusRemove}\n            />\n\n            <TimeSinceLastUpdated\n              lastUpdated={lastUpdated}\n              msUntilWarning={MS_UNTIL_WARNING}\n              loading={loading}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import axios from 'axios';\nimport jsonpAdapter from 'axios-jsonp';\n\n\nexport const URL_BASE = 'https://api.darksky.net/forecast';\n\nexport default class DarkSky {\n  static getUrl = ({\n    // all params required\n    base = URL_BASE,\n    key,\n    lat,\n    long,\n    exclude = 'minutely,flags,currently',\n    lang = 'en',\n    units = 'auto',\n  }) => `${base}/${key}/${lat},${long}?exclude=${exclude}&lang=${lang}&units=${units}`;\n\n  static async fetchWeatherData({ lat, long, key, units }) {\n    // NOTE: this is a jsonp call. there are no status codes or errors to parse like with XHR\n    // try/catch errors in components that call this, so just return the response as-is\n    const response = await axios.get(this.getUrl({ lat, long, key, units }), {\n      adapter: jsonpAdapter, // gets around CORS\n    });\n    return response;\n  }\n\n  static async fetchAllLocationsWeatherData(locations, key, units) {\n    const darkSkyUnits = this.convertUnitsForDarkSky(units);\n    const responses = await axios.all(\n      locations.map(({ lat, long }) => (\n        this.fetchWeatherData({ lat, long, key, units: darkSkyUnits })\n      )),\n    );\n    return responses;\n  }\n\n  static isValidKey = async key => {\n    const response = await this.fetchWeatherData({ lat: 38, long: -122, key });\n    return !!response?.data;\n  }\n\n  static convertUnitsForDarkSky = (units = 'auto') => {\n    switch (units) {\n      case ('f'):\n        return 'us';\n      case ('c'):\n        return 'si';\n      case (''):\n      case ('auto'):\n        return 'auto';\n      default:\n        throw new Error(`Invalid Unit type: ${units}`);\n    }\n  };\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport moment from 'moment';\nimport classNames from 'classnames';\n\nimport { MIN_CHANCE_OF_RAIN } from 'app/constants';\n\n\nexport const PRECIP_HOUR_LIMIT = 23;\n\nexport default class TodaysRainForecast extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    hourlyForecasts: T.arrayOf(\n      T.shape({\n        precipProbability: T.number,\n        time: T.number,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    hourlyForecasts: [],\n  }\n\n  getFirstRainForecast = () => {\n    const { hourlyForecasts } = this.props;\n    return hourlyForecasts\n      .slice(0, PRECIP_HOUR_LIMIT)\n      .find(hourlyForecast => (\n        hourlyForecast.precipProbability >= MIN_CHANCE_OF_RAIN\n      )) || {};\n  }\n\n  render() {\n    const { className } = this.props;\n    const firstRainForecast = this.getFirstRainForecast();\n    const { precipProbability, time } = firstRainForecast;\n\n    return (\n      <div className={classNames(className, 'rain-chance')}>\n        { precipProbability ? (\n          <>\n            <div className=\"umbrella bring-umbrella\" />\n            <span className=\"pop text-info\">\n              {(precipProbability * 100).toFixed(0)}%\n            </span>\n            <sup className=\"at mx-1\">@</sup>\n            <span className=\"time\">{moment(time * 1000).format('hA')}</span>\n          </>\n        ) : (\n          <>\n            <div className=\"umbrella no-umbrella\" />\n            <div className=\"no-rain\">No rain in 24hr.</div>\n          </>\n        )}\n        <div className=\"text-muted\">\n          Based on a {(MIN_CHANCE_OF_RAIN * 100).toFixed(0)}% chance threshold.\n        </div>\n      </div>\n    );\n  }\n}\n","export const WARNING_AFTER_N_MISSED_CALLS = 2;\n\nexport const MIN_CHANCE_OF_RAIN = 0.30; // 30% chance\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\n// July 2019: DarkSky's icon mapping is pretty dumb right now:\n// \"The only case where a daily icon will show a *-night value is partly-cloudy-night\"\n\nconst DARK_SKY_ICON_MAP = {\n  'clear-day': 'clear',\n  'clear-night': 'clear',\n  cloudy: 'cloudy',\n  fog: 'fog',\n  'partly-cloudy-day': 'partlycloudy',\n  'partly-cloudy-night': 'partlycloudy',\n  rain: 'rain',\n  sleet: 'sleet',\n  snow: 'snow',\n  wind: 'wind',\n};\n\nexport const getIcon = iconName => (\n  `./images/weather-icons/${DARK_SKY_ICON_MAP[iconName] || 'unknown'}.svg`\n);\n\n\nexport default class WeatherIcon extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    icon: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n    icon: '',\n  }\n\n  render() {\n    const { className, icon } = this.props;\n\n    if (!icon) { return null; }\n\n    return (\n      <img className={classNames(className)} src={getIcon(icon)} alt=\"\" />\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\nimport LocalStorage, { WEATHER_UNITS_KEY } from 'app/utils/local_storage';\n\nimport WeatherIcon from '../../icon';\n\n\nexport const cToF = celsius => ((celsius * 9) / 5) + 32;\nexport const fToC = fahrenheit => ((fahrenheit - 32) * 5) / 9;\n\n\nexport default class TodaysForecastOverview extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    todaysForecast: T.shape({\n      icon: T.string,\n      summary: T.string,\n      temperatureMin: T.number,\n      temperatureMax: T.number,\n    }),\n  };\n\n  static defaultProps = {\n    className: '',\n    todaysForecast: {},\n  }\n\n  constructor(props) {\n    super(props);\n    this.weatherUnits = LocalStorage.get(WEATHER_UNITS_KEY);\n  }\n\n  getAltHighLow = () => {\n    const { weatherUnits, props } = this;\n    const { temperatureMin, temperatureMax } = props.todaysForecast;\n\n    if (!weatherUnits) { return null; }\n\n    const fn = weatherUnits === 'f' ? fToC : cToF;\n\n    return (\n      <div className=\"high-low-alt text-muted\">\n        {fn(temperatureMin).toFixed(0)}\n        /\n        {fn(temperatureMax).toFixed(0)}\n        &deg;\n        {weatherUnits === 'f' ? 'C' : 'F'}\n      </div>\n    );\n  }\n\n  render() {\n    const { className, todaysForecast } = this.props;\n    const { icon, summary, temperatureMin, temperatureMax } = todaysForecast;\n\n    return (\n      <div\n        className={classNames(\n          className, 'forecast', 'mb-3', 'd-flex', 'align-items-center', 'justify-content-center',\n        )}\n      >\n        <WeatherIcon icon={icon} />\n        <div className=\"text-truncate\">\n          <div className=\"conditions text-truncate\">\n            {summary}\n          </div>\n\n          <div className=\"high-low\">\n            {temperatureMin.toFixed(0)}\n            <span className=\"text-muted px-1\">/</span>\n            {temperatureMax.toFixed(0)}\n            &deg;\n          </div>\n\n          {this.getAltHighLow()}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\n\nexport default class Alerts extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    alerts: T.arrayOf(\n      T.shape({\n        title: T.string,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    alerts: [],\n  }\n\n  render() {\n    const { className, alerts } = this.props;\n\n    if (!alerts.length) { return null; }\n\n    return (\n      <div className={classNames(className, 'col-12 alerts')}>\n        <ul>\n          {alerts.map(alert => (\n            <li key={alert.title}>{alert.title}</li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\n\nimport TodaysRainForecast from './todays_rain_forecast';\nimport TodaysForecastOverview from './todays_forecast_overview';\nimport Alerts from './alerts';\n\n\nexport default class SidePanel extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    dailyForecasts: T.array,\n    hourlyForecasts: T.array,\n    alerts: T.array,\n  };\n\n  static defaultProps = {\n    className: '',\n    dailyForecasts: [],\n    hourlyForecasts: [],\n    alerts: [],\n  }\n\n  render() {\n    const { className, dailyForecasts, hourlyForecasts, alerts } = this.props;\n\n    return (\n      <div className={classNames(className, 'side-panel px-3')}>\n        <TodaysForecastOverview todaysForecast={dailyForecasts[0]} />\n        <TodaysRainForecast hourlyForecasts={hourlyForecasts} />\n        <Alerts alerts={alerts} />\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Table } from 'reactstrap';\nimport moment from 'moment';\nimport classNames from 'classnames';\n\nimport { MIN_CHANCE_OF_RAIN } from 'app/constants';\n\nimport WeatherIcon from '../icon';\n\n\nexport default class HourlyForecast extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    hourlyForecasts: T.arrayOf(\n      T.shape({\n        time: T.number,\n        temperature: T.number,\n        uvIndex: T.number,\n        humidity: T.number,\n        precipProbability: T.number,\n        apparentTemperature: T.number,\n        icon: T.string,\n        summary: T.string,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    hourlyForecasts: [],\n  }\n\n  render() {\n    const { className, hourlyForecasts } = this.props;\n\n    return (\n      <Table className=\"mb-0\">\n        <thead>\n          <tr>\n            <th>Time</th>\n            <th>Condition</th>\n            <th data-toggle=\"tooltip\" title=\"Temp/Feels Like\">Temp/FL</th>\n            <th>UVI</th>\n            <th>POP</th>\n            <th>Humid</th>\n          </tr>\n        </thead>\n        <tbody>\n          {hourlyForecasts.slice(0, 12).map(hourlyForecast => {\n            const {\n              time,\n              temperature,\n              uvIndex,\n              humidity,\n              precipProbability,\n              apparentTemperature,\n              icon,\n              summary,\n            } = hourlyForecast;\n\n            return (\n              <tr key={`hourly-forecast-${time}`}>\n                <td>\n                  {moment(time * 1000).format('hA')}\n                </td>\n                <td>\n                  <WeatherIcon icon={icon} /> {summary}\n                </td>\n                <td>\n                  {temperature.toFixed(0)}/{apparentTemperature.toFixed(0)}&deg;\n                </td>\n                <td>\n                  {uvIndex}\n                </td>\n                <td\n                  className={classNames(\n                    className, { 'text-info': precipProbability >= MIN_CHANCE_OF_RAIN },\n                  )}\n                >\n                  {(precipProbability * 100).toFixed(0)}%\n                </td>\n                <td>\n                  {(humidity * 100).toFixed(0)}%\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Row, Col } from 'reactstrap';\nimport moment from 'moment';\nimport classNames from 'classnames';\n\nimport WeatherIcon from '../icon';\n\n\nexport default class ThreeDayForecast extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    dailyForecasts: T.arrayOf(\n      T.shape({\n        icon: T.string,\n        summary: T.string,\n        temperatureMin: T.number,\n        temperatureMax: T.number,\n        time: T.number,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    className: '',\n    dailyForecasts: [],\n  }\n\n  render() {\n    const { className, dailyForecasts } = this.props;\n\n    return (\n      <Row className={classNames(className, 'slim-gutters', 'forecasts')}>\n        {/* gets indexes 1, 2, 3 of the array */}\n        {dailyForecasts.slice(1, 4).map(dailyForecast => {\n          const { summary, temperatureMin, temperatureMax, time, icon } = dailyForecast;\n\n          return (\n            <Col sm=\"4\" key={`daily-forecast-${time}`}>\n              <div className=\"p-3 forecast d-flex align-items-center justify-content-center\">\n                <WeatherIcon icon={icon} />\n                <div className=\"text-truncate\">\n                  <div className=\"conditions text-truncate\">\n                    {summary}\n                  </div>\n                  <div className=\"high-low\">\n                    {temperatureMin.toFixed(0)}\n                    <span className=\"text-muted px-1\">/</span>\n                    {temperatureMax.toFixed(0)}\n                  </div>\n                  <div className=\"date\">\n                    {moment(time * 1000).format('dddd, MMM D')}\n                  </div>\n                </div>\n              </div>\n            </Col>\n          );\n        })}\n      </Row>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Row, Col, Card, CardBody, CardFooter } from 'reactstrap';\nimport classNames from 'classnames';\nimport moment from 'moment';\n\nimport LocalStorage, { WEATHER_KEY_KEY, WEATHER_UNITS_KEY } from 'app/utils/local_storage';\nimport { WARNING_AFTER_N_MISSED_CALLS } from 'app/constants';\nimport DarkSky from 'app/integrations/darksky';\nimport TimeSinceLastUpdated from 'app/components/time_since_last_updated';\n\nimport SidePanel from './side_panel';\nimport HourlyForecast from './hourly_forecast';\nimport ThreeDayForecast from './three_day_forecast';\n\n\nexport const CALL_INTERVAL = 15 * 60 * 1000;\nexport const MS_UNTIL_WARNING = CALL_INTERVAL * WARNING_AFTER_N_MISSED_CALLS;\nexport const LOCATIONS = [\n  { readable: 'Bernal Heights', lat: 37.7448205, long: -122.4100494 },\n];\n\nexport default class Weather extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      locations: [],\n      fetchError: false,\n      lastUpdated: undefined,\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    await this.updateWeatherLocations();\n    this.interval = setInterval(this.updateWeatherLocations, CALL_INTERVAL);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  updateWeatherLocations = async () => {\n    const key = LocalStorage.get(WEATHER_KEY_KEY);\n    const units = LocalStorage.get(WEATHER_UNITS_KEY);\n    try {\n      const locationsResponses = await DarkSky.fetchAllLocationsWeatherData(LOCATIONS, key, units);\n\n      this.setState({ loading: true });\n      this.setState({\n        locations: locationsResponses.map((locationResponse, idx) => {\n          const { hourly, daily, alerts } = locationResponse.data;\n\n          return {\n            dailyForecasts: daily.data,\n            hourlyForecasts: hourly.data,\n            alerts,\n            ...LOCATIONS[idx],\n          };\n        }),\n        lastUpdated: moment(),\n        fetchError: false,\n        loading: false,\n      });\n    } catch (e) {\n      console.error(e);\n      // jsonp makes error handling difficult. just assume it was user error\n      this.setState({\n        fetchError: true,\n        loading: false,\n        lastUpdated: moment(),\n      });\n    }\n  }\n\n  render() {\n    const { className } = this.props;\n    const { locations, lastUpdated, fetchError, loading } = this.state;\n\n    return (\n      <div className={classNames(className, 'weather')}>\n        {fetchError && (\n          <div className=\"error-msg\">\n            <span className=\"fas fa-exclamation-circle mr-1\" />\n            <span>\n              Weather request failed. Make sure {'you\\'ve'} supplied an API Key in the{' '}\n              <a href=\"#/settings\">settings</a>.\n            </span>\n          </div>\n        )}\n\n        {locations.map(location => {\n          const {\n            hourlyForecasts,\n            dailyForecasts,\n            alerts,\n            readable,\n            lat,\n            long,\n          } = location;\n\n          return (\n            <Card className=\"mb-2\" key={`${lat},${long}`}>\n              <div className=\"location-readable\">\n                <small>{readable}</small>\n              </div>\n\n              <CardBody>\n                <Row className=\"slim-gutters\">\n                  <Col xs=\"5\">\n                    <SidePanel\n                      dailyForecasts={dailyForecasts}\n                      hourlyForecasts={hourlyForecasts}\n                      alerts={alerts}\n                    />\n                  </Col>\n                  <Col xs=\"7\">\n                    <HourlyForecast\n                      hourlyForecasts={hourlyForecasts}\n                    />\n                  </Col>\n                </Row>\n              </CardBody>\n              <CardFooter className=\"bg-transparent py-0\">\n                <ThreeDayForecast dailyForecasts={dailyForecasts} />\n              </CardFooter>\n            </Card>\n          );\n        })}\n\n        <div className=\"d-flex justify-content-end\">\n          <TimeSinceLastUpdated\n            lastUpdated={lastUpdated}\n            msUntilWarning={MS_UNTIL_WARNING}\n            loading={loading}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport moment from 'moment';\nimport 'moment-precise-range-plugin';\nimport classNames from 'classnames';\n\n\nexport const INTERVAL_MS = 1000;\n\nexport default class CurrentDateTimeHeader extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.forceUpdate(), INTERVAL_MS);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const { className } = this.props;\n\n    const now = moment();\n    const date = now.format('MMMM Do, YYYY');\n    const time = now.format('h:mm');\n\n    return (\n      <div className={classNames(className, 'current-time', 'row', 'py-1', 'align-items-baseline')}>\n        <div className=\"time col-6\">{time}</div>\n        <div className=\"date col-6\">{date}</div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Row, Col } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport Bus from 'app/components/bus';\nimport Weather from 'app/components/weather';\n\nimport CurrentDateTimeHeader from './current_datetime_header';\n\n\nexport default class MainPage extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  render() {\n    const { className } = this.props;\n\n    return (\n      <div className={classNames(className)}>\n        <CurrentDateTimeHeader />\n        <Row className=\"slim-gutters\">\n          <Col sm=\"5\" className=\"mb-4\">\n            <Bus />\n          </Col>\n          <Col sm=\"7\" className=\"mb-4\">\n            <Weather />\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport { Button, ButtonGroup, Label } from 'reactstrap';\nimport classNames from 'classnames';\n\nimport LocalStorage, { HTML_CLASS_KEY } from 'app/utils/local_storage';\n\n\nexport const MODES = {\n  DARK: 'dark-mode',\n  LIGHT: 'light-mode',\n};\n\nexport default class DarkLightModeSelector extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.setMode = this.setMode.bind(this);\n  }\n\n  setMode = mode => {\n    document.documentElement.className = mode;\n    LocalStorage.set(HTML_CLASS_KEY, mode);\n    // this is because we aren't using state to determine if we are in dark mode\n    this.forceUpdate();\n  }\n\n  isDarkModeSelected = () => (\n    document.documentElement.className === MODES.DARK\n  )\n\n  render() {\n    const { className } = this.props;\n\n    const isDarkModeSelected = this.isDarkModeSelected();\n\n    return (\n      <>\n        <Label className=\"mr-2\">Theme:</Label>\n        <ButtonGroup className={classNames(className)}>\n          <Button\n            onClick={() => this.setMode(MODES.DARK)}\n            color={isDarkModeSelected ? 'primary' : 'secondary'}\n          >\n            Dark\n          </Button>\n          <Button\n            onClick={() => this.setMode(MODES.LIGHT)}\n            color={isDarkModeSelected ? 'secondary' : 'primary'}\n          >\n            Light\n          </Button>\n        </ButtonGroup>\n      </>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\nimport { Button } from 'reactstrap';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { monokai } from 'react-syntax-highlighter/dist/cjs/styles/hljs';\n\nimport LocalStorage, { ALL_SETTINGS_KEYS } from 'app/utils/local_storage';\n\n\nexport default class DisplayLocalStorageData extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    localStorageKey: T.oneOf(ALL_SETTINGS_KEYS).isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('storage', this.rerender);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('storage', this.rerender);\n  }\n\n  // this only exists for the event listeners above to have a single fn to point to\n  rerender = () => this.forceUpdate();\n\n  getLocalStorageData = key => (\n    LocalStorage.get(key)\n  )\n\n  toggleShow = () => {\n    const { show } = this.state;\n    this.setState({ show: !show });\n  }\n\n  render() {\n    const { className, localStorageKey } = this.props;\n    const { show } = this.state;\n    const codeString = JSON.stringify(this.getLocalStorageData(localStorageKey));\n\n    return (\n      <div className={classNames(className)}>\n        <p>\n          <Button color=\"primary\" onClick={this.toggleShow}>\n            {!show ? 'Show' : 'Hide'} LocalStorage Data\n          </Button>\n        </p>\n        <p className=\"small\">JSON representation of the stored data.</p>\n        {show && (\n          <SyntaxHighlighter language=\"json\" style={monokai} className=\"my-3\">\n            {codeString}\n          </SyntaxHighlighter>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport classNames from 'classnames';\nimport { Button } from 'reactstrap';\n\nimport LocalStorage, { SAMPLE_DATA } from 'app/utils/local_storage';\n\n\nexport default class SetSampleLocalStorageData extends PureComponent {\n  static propTypes = {\n    className: T.string,\n    localStorageKey: T.oneOf(Object.keys(SAMPLE_DATA)).isRequired,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  setSampleData = () => {\n    const { localStorageKey } = this.props;\n    LocalStorage.setSampleData(localStorageKey);\n  }\n\n  render() {\n    const { className } = this.props;\n\n    return (\n      <div className={classNames(className)}>\n        <p>\n          <Button color=\"primary\" onClick={this.setSampleData}>\n            Set Sample LocalStorage Data\n          </Button>\n        </p>\n        <p className=\"small\">Replace stored data with sample data.</p>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { PropTypes as T } from 'prop-types';\nimport {\n  Row,\n  Col,\n  Card,\n  CardHeader,\n  CardBody,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  ButtonGroup,\n  Button,\n} from 'reactstrap';\nimport classNames from 'classnames';\n\nimport LocalStorage, {\n  BUS_ROUTE_STOP_TAGS_KEY,\n  WEATHER_KEY_KEY,\n  WEATHER_UNITS_KEY,\n} from 'app/utils/local_storage';\nimport DarkSky from 'app/integrations/darksky';\n\nimport DarkLightModeSelector from './dark_light_mode_selector';\nimport DisplayLocalStorageData from './display_local_storage_data';\nimport SetSampleLocalStorageData from './set_sample_local_storage_data';\n\n\nexport default class Settings extends PureComponent {\n  static propTypes = {\n    className: T.string,\n  };\n\n  static defaultProps = {\n    className: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = this.getInitialState();\n  }\n\n  getInitialState = () => ({\n    weatherKeyIsValid: undefined,\n    weatherKeyValue: LocalStorage.get(WEATHER_KEY_KEY),\n    weatherUnits: LocalStorage.get(WEATHER_UNITS_KEY),\n  })\n\n  onWeatherKeyChange = event => {\n    this.setState({ weatherKeyValue: event.target.value });\n  }\n\n  validateAndSetKey = async event => {\n    event.preventDefault();\n    const { weatherKeyValue } = this.state;\n\n    try {\n      if (await DarkSky.isValidKey(weatherKeyValue)) {\n        this.setState({ weatherKeyIsValid: true });\n        LocalStorage.set(WEATHER_KEY_KEY, weatherKeyValue);\n        return;\n      }\n      this.setState({ weatherKeyIsValid: false });\n    } catch (e) {\n      this.setState({ weatherKeyIsValid: false });\n    }\n  }\n\n  setWeatherUnits = units => {\n    this.setState({ weatherUnits: units });\n    LocalStorage.set(WEATHER_UNITS_KEY, units);\n  }\n\n  dumpLocalStorageAndResetState = () => {\n    this.setState(this.getInitialState());\n    LocalStorage.dump();\n  }\n\n  render() {\n    const { className } = this.props;\n    const { weatherKeyIsValid, weatherKeyValue, weatherUnits } = this.state;\n\n    return (\n      <div className={classNames(className)}>\n        <h1>Settings</h1>\n\n        <Row>\n          <Col xs=\"6\">\n            <Card className=\"mb-4\">\n              <CardHeader>\n                <h3 className=\"m-0\">Global</h3>\n              </CardHeader>\n              <CardBody>\n                <DarkLightModeSelector />\n\n                <hr />\n\n                <p>\n                  <Button\n                    color=\"danger\"\n                    onClick={this.dumpLocalStorageAndResetState}\n                  >\n                    Dump All Local Storage\n                  </Button>\n                </p>\n                <p className=\"small\">\n                  This will remove stored bus stops, your DarkSky key, and the weather units.\n                </p>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col xs=\"6\">\n            <Card className=\"mb-4\">\n              <CardHeader>\n                <h3 className=\"m-0\">Bus</h3>\n              </CardHeader>\n              <CardBody>\n                <DisplayLocalStorageData localStorageKey={BUS_ROUTE_STOP_TAGS_KEY} />\n\n                <hr />\n\n                <SetSampleLocalStorageData localStorageKey={BUS_ROUTE_STOP_TAGS_KEY} />\n              </CardBody>\n            </Card>\n          </Col>\n\n          <Col xs=\"6\">\n            <Card className=\"mb-4\">\n              <CardHeader>\n                <h3 className=\"m-0\">Weather</h3>\n              </CardHeader>\n              <CardBody>\n                <Form onSubmit={this.validateAndSetKey}>\n                  <FormGroup>\n                    <Label for=\"weather-key\">DarkSky API Key:</Label>\n                    <Input\n                      type=\"text\"\n                      id=\"weather-key\"\n                      className={classNames(\n                        {\n                          'is-valid': weatherKeyIsValid,\n                          'is-invalid': weatherKeyIsValid === false,\n                        },\n                      )}\n                      onChange={this.onWeatherKeyChange}\n                      value={weatherKeyValue}\n                    />\n                  </FormGroup>\n                  <Button color=\"primary\" type=\"submit\">Validate & Store Key</Button>\n                </Form>\n\n                <hr />\n\n                <FormGroup>\n                  <Label className=\"mr-2\">Weather Units:</Label>\n                  <ButtonGroup>\n                    <Button\n                      color={weatherUnits === '' ? 'primary' : 'secondary'}\n                      onClick={() => this.setWeatherUnits('')}\n                    >\n                      Auto\n                    </Button>\n                    <Button\n                      color={weatherUnits === 'f' ? 'primary' : 'secondary'}\n                      onClick={() => this.setWeatherUnits('f')}\n                    >\n                      F\n                    </Button>\n                    <Button\n                      color={weatherUnits === 'c' ? 'primary' : 'secondary'}\n                      onClick={() => this.setWeatherUnits('c')}\n                    >\n                      C\n                    </Button>\n                  </ButtonGroup>\n                </FormGroup>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport { Container } from 'reactstrap';\n\nimport MainNav from 'app/components/main_nav';\nimport MainPage from 'app/components/main_page';\nimport SettingsPage from 'app/components/settings_page';\n\n\nexport default function App() {\n  return (\n    <HashRouter>\n      <Container>\n        <MainNav />\n\n        <Switch>\n          <Route path=\"/settings\">\n            <SettingsPage />\n          </Route>\n          <Route path=\"/\">\n            <MainPage />\n          </Route>\n        </Switch>\n      </Container>\n    </HashRouter>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.scss';\n\nimport App from 'app';\n\n\nconst DOM_ID = 'react-app';\n\nReactDOM.render(\n  <App />,\n  document.getElementById(DOM_ID),\n);\n"],"sourceRoot":""}